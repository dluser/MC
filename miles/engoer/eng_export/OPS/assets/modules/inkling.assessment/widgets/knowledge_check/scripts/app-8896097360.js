/******/!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}// webpackBootstrap
/******/
var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){n(2),n(8),n(10),n(12),n(14),n(16),n(18)},function(e,t,n){(function(t){e.exports=t.inklingAPIConfiguration=n(3)}).call(t,function(){return this}())},function(e,t,n){function i(e){this.api_=s(e),this.params_=o(e),this.engagement_=r(e)}
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
var s=n(4),o=n(6),r=n(7);e.exports=function(e){return new i(e)},i.prototype.remove=function(){this.api_.remove(),this.params_.remove(),this.engagement_.remove()},i.prototype.get=function(){return this.params_.get()},i.prototype.set=function(e){this.api_.send("configuration","set",e)},i.prototype.getJSON=function(e){this.params_.getJSON(e)},i.prototype.setJSON=function(e){this.api_.send("configuration","file",e)}},function(e,t,n){function i(e){this.win_=e,this.listeners_=[]}
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
var s=n(5);e.exports=function(e){return new i(e)},i.prototype.remove=function(){this.stop()},i.prototype.send=function(e,t,n){s.send(this.win_.parent,e,t,n)},i.prototype.listen=function(e,t,n){var i=s.listen(this.win_,e,t,n);return this.listeners_.push(i),i},i.prototype.stop=function(e){this.listeners_=this.listeners_.filter(function(t){return e&&e!==t?!0:(s.stop(t),!1)})}},function(e,t){
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
function n(e,t,n,i){if(i.data.type){var s=i.data.type,o=i.data.method||null,r=i.data.payload||i.data.data;s===e&&o===t&&n(r,i.source)}}t.send=function(e,t,n,i){e.postMessage({type:t,method:n,data:i,payload:i},"*")},t.listen=function(e,t,i,s){var o=n.bind(null,t,i,s);return e.addEventListener("message",o,!1),{target:e,handler:o}},t.stop=function(e){e.target.removeEventListener("message",e.handler,!1)}},function(e,t,n){function i(e){this.win_=e,this.engagement_=r(e)}function s(e){return e.slice(1).split("&").reduce(function(e,t){var n=t.split("="),i=decodeURIComponent(n[0]),s=n.length>1?decodeURIComponent(n[1]):null;return i&&(e[i]=s),e},{})}
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
var o="configFile",r=n(7);e.exports=function(e){return new i(e)},i.prototype.remove=function(){this.engagement_.remove()},i.prototype.get=function(){var e=s(this.win_.location.search);return Object.keys(e).reduce(function(t,n){return n!==o&&(t[n]=e[n]),t},{})},i.prototype.getJSON=function(e){var t=s(this.win_.location.search)[o];if(!t)return void e(null,null);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status||0===n.status){var t=null;try{t=JSON.parse(n.responseText)}catch(i){}e(t?null:new Error("Failed to parse the JSON config file."),t)}else e(new Error("Failed to load config file."),null)},n.open("GET",t,!0),n.send()}},function(e,t,n){function i(e){this.iOSNative_=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/.test(e.navigator.userAgent),this.api_=a(e),this.win_=e,this.doc_=e.document,this.engagementFinishedHandlerBound_=this.engagementFinishedHandler_.bind(this),this.engagementHandlerBound_=this.engagementHandler_.bind(this),this.iOSNative_?(this.api_.listen("engagement","blur",this.engagementFinishedHandlerBound_),this.doc_.addEventListener("touchstart",this.engagementHandlerBound_)):(this.win_.addEventListener("blur",this.engagementFinishedHandlerBound_),this.doc_.addEventListener("mousedown",this.engagementHandlerBound_)),this.win_.addEventListener("unload",this.engagementFinishedHandlerBound_),this.doc_.addEventListener("keypress",this.engagementHandlerBound_),this.lastEngagement_=null,this.engagementStartTime_=null,this.inactivityTimeout_=null}function s(e){var t;return e.__S9EngagementHandler?(t=e.__S9EngagementHandler,t.count++):(t=new i(e),t.count=1,e.__S9EngagementHandler=t),t}function o(e){return e.count}function r(e,t){e.count--,0==e.count&&(t.__S9EngagementHandler=void 0)}
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
var a=n(4);e.exports=function(e){return s(e)},i.prototype.ENGAGEMENT_THROTTLE_MS_=500,i.prototype.INACTIVITY_TIMEOUT_DURATION_MS_=6e5,i.prototype.remove=function(){1==o(this)&&(this.api_.remove(),this.iOSNative_?this.doc_.removeEventListener("touchstart",this.engagementHandlerBound_,!1):(this.win_.removeEventListener("blur",this.engagementFinishedHandlerBound_,!1),this.doc_.removeEventListener("mousedown",this.engagementHandlerBound_,!1)),this.doc_.removeEventListener("keypress",this.engagementHandlerBound_,!1),this.win_.removeEventListener("unload",this.engagementFinishedHandlerBound_,!1),this.inactivityTimeout_&&clearTimeout(this.inactivityTimeout_)),r(this,this.win_)},i.prototype.sendEngagement=function(e){this.api_.send("analytics","interaction",e)},i.prototype.engagementFinishedHandler_=function(){this.sendEngagementEnd_(new Date)},i.prototype.engagementHandler_=function(){var e=new Date;null===this.engagementStartTime_&&(this.engagementStartTime_=e);var t={category:"automatic",action:"engagement",value:e.getTime()-this.engagementStartTime_.getTime()};this.sendEngagementThrottled_(t)},i.prototype.sendEngagementThrottled_=function(e){var t=new Date;(!this.lastEngagement_||this.lastEngagement_&&t.getTime()-this.lastEngagement_.getTime()>this.ENGAGEMENT_THROTTLE_MS_)&&(this.sendEngagement(e),this.lastEngagement_=t),this.inactivityTimeout_&&clearTimeout(this.inactivityTimeout_),this.inactivityTimeout_=setTimeout(function(){this.sendEngagementEnd_(this.lastEngagement_)}.bind(this),this.INACTIVITY_TIMEOUT_DURATION_MS_)},i.prototype.sendEngagementEnd_=function(e){if(null!=this.engagementStartTime_){var t=e.getTime()-this.engagementStartTime_.getTime();this.sendEngagement({category:"automatic",action:"engagement_end",value:t}),this.engagementStartTime_=null}}},function(e,t,n){(function(t){e.exports=t.inklingAPIView=n(9)}).call(t,function(){return this}())},function(e,t,n){function i(e){this.doc_=e.document,this.api_=s(e),this.engagement_=o(e)}
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
var s=n(4),o=n(7);e.exports=function(e){return new i(e)},i.prototype.remove=function(){this.api_.remove(),this.engagement_.remove()},i.prototype.setSize=function(e,t){var n={};"undefined"!=typeof e&&(n.width=e),"undefined"!=typeof t&&(n.height=t),this.api_.send("size","set",n),this.api_.send("view","set",n)},i.prototype.setWidth=function(e){this.setSize(e,void 0)},i.prototype.setHeight=function(e){this.setSize(void 0,e)},i.prototype.fitToHeight=function(){var e=Math.min(this.doc_.documentElement.scrollHeight,this.doc_.body.scrollHeight);this.setHeight(e)}},function(e,t,n){(function(t){e.exports=t.inklingAPIAvailability=n(11)}).call(t,function(){return this}())},function(e,t,n){function i(e){this.api_=s(e),this.engagement_=o(e)}
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
var s=n(4),o=n(7);e.exports=function(e){return new i(e)},i.prototype.remove=function(){this.api_.remove(),this.engagement_.remove()},i.prototype.onAvailabilityChange=function(e){this.api_.listen("availability","apiStatus",function(t){e(t)}),this.api_.send("availability","apiStatus",{})}},function(e,t,n){(function(t){e.exports=t.inklingAPIAsset=n(13)}).call(t,function(){return this}())},function(e,t,n){function i(e){this.api_=a(e),this.engagement_=l(e)}function s(e,t,n,i,s){e.send("asset",t,{data:s||null,id:n||null,progress:!!i})}function o(e,t,n,i){var s=e.listen("asset",t,function(t){i&&i!==t.id||1===t.progress&&(i&&e.stop(s),n(t.path))}.bind(this))}function r(e,t,n,i){var s=e.listen("asset",t,function(t){return i&&i!==t.id?void 0:1===t.progress?void(i&&e.stop(s)):void n(t.progress)}.bind(this))}
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
var a=n(4),l=n(7);e.exports=function(e){return new i(e)},i.prototype.remove=function(){this.api_.remove(),this.engagement_.remove()},i.prototype.uploadImage=function(e,t,n){var i="id-"+Math.floor(4294967295*Math.random())+Math.floor(4294967295*Math.random());this.startImageUpload(e,i,!!n),this.onImageUpload(t,i),n&&this.onImageProgress(n,i)},i.prototype.startImageUpload=function(e,t,n){s(this.api_,"image",t,n,e)},i.prototype.onImageUpload=function(e,t){o(this.api_,"image",e,t)},i.prototype.onImageProgress=function(e,t){r(this.api_,"image",e,t)},i.prototype.pickImage=function(e,t){var n="id-"+Math.floor(4294967295*Math.random())+Math.floor(4294967295*Math.random());s(this.api_,"image",n,!!t),o(this.api_,"image",e,n),t&&r(this.api_,"image",t,n)},i.prototype.pickAudio=function(e,t){var n="id-"+Math.floor(4294967295*Math.random())+Math.floor(4294967295*Math.random());s(this.api_,"audio",n,!!t),o(this.api_,"audio",e,n),t&&r(this.api_,"audio",t,n)}},function(e,t,n){(function(t){e.exports=t.inklingAPIData=n(15)}).call(t,function(){return this}())},function(e,t,n){function i(e){this.api_=s(e),this.engagement_=o(e)}
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
var s=n(4),o=n(7);e.exports=function(e){return new i(e)},i.prototype.remove=function(){this.api_.remove(),this.engagement_.remove()},i.prototype.save=function(e){this.api_.send("data","save",e)},i.prototype.onRestore=function(e){this.api_.listen("data",null,function(t){e(t)})},i.prototype.saveGlobal=function(e){this.api_.send("data","saveGlobal",e)},i.prototype.onGlobalRestore=function(e){this.api_.listen("dataglobal",null,function(t){e(t)})}},function(e,t,n){(function(t){e.exports=t.inklingAPIAnalytics=n(17)}).call(t,function(){return this}())},function(e,t,n){function i(e){this.api_=s(e),this.engagement_=o(e)}
// Copyright 2016 Inkling Systems, Inc.
//
// Your use of this software is governed by your customer agreement with Inkling Systems, Inc.
// (e.g., the Master Subscription and Professional Services Agreement).  If you are acting as a
// subcontractor of an Inkling customer, than that customer's agreement shall apply to your use of
// the software.  In the case where no such agreement applies, then Inkling's Developer Rules,
// which can be found at https://www.inkling.com/terms/developer-rules-february-2016/, shall
// apply to your use of the software.
var s=n(4),o=n(7);e.exports=function(e){return new i(e)},i.prototype.remove=function(){this.api_.remove(),this.engagement_.remove()},i.prototype.sendAssessmentData=function(e){this.api_.send("analytics","assessment",e)},i.prototype.sendCourseCompletion=function(e){this.api_.send("analytics","courseCompletion",e)},i.prototype.sendInteraction=function(e){this.api_.send("analytics","interaction",e)}},function(e,t,n){(function(t){e.exports=t.inklingAPIParams=n(6)}).call(t,function(){return this}())}]),function(){"use strict";angular.module("inklingKnowledgeCheckUtilities",[])}(),function(){"use strict";angular.module("inklingKnowledgeCheck",["ngCookies","ngTouch","ngSanitize","ui.router","ui.sortable","angular-cache","slick","inklingKnowledgeCheckUtilities"])}(),function(){"use strict";angular.module("inklingKnowledgeCheckEditor",["ngCookies","ngTouch","ngSanitize","ui.router","ui.select","ui.sortable","hd.720kb.tooltips","angular-cache","inklingKnowledgeCheckUtilities","textAngular"])}(),function(){"use strict";function e(){function e(e,t,n,i,s,o,r,a){var l=this;l.config=e.config,l.quizData=e.quizData,l.submittedAssessments=e.quizData.submittedAssessments,l.scoredAssessments=[],l.latestSubmittedAssessment=l.submittedAssessments[l.submittedAssessments.length-1],l.questionsAnswered={},l.numCorrect=0,l.assessmentService=o,l.passed=!1,l.scoreSettings={answerLabels:{}},l.scoreSettings.answerLabels=l.config.answerLabels[2],l.init=function(){var t,n,i,s,o,r,a,c,u,d,g,p,m=0,v={};for($("body").addClass("viewer-score"),e.embedded&&$("body").addClass("prevent-overflow"),t=0;t<l.submittedAssessments.length;t++)g=l.submittedAssessments[t],p=l.assessmentService.score(g),l.scoredAssessments[t]=p,p.score>=m&&(m=p.score,v=p);var h=l.config.questions;for(t=0;t<h.length;t++)for(i=h[t],s=i.id,o=i.type,r=i.imgSrc,a=i.SVGData,c=i.SVGWidth,u=i.SVGHeight,l.questionsAnswered[s]={id:s,correct:!1,answersSelected:{},answerCoordinates:[],type:o,imgSrc:r,SVGData:a,SVGWidth:c,SVGHeight:u},n=0;n<h[t].answers.length;n++){var f=h[t].answers[n];d=f.id,l.questionsAnswered[s].answersSelected[d]={selected:!1}}for(h=v.questions||[],t=0;t<h.length;t++){if(i=h[t],s=i.id,l.questionsAnswered[s].correct=i.correct,i.answerIds){var w=i.answerIds;for(n=0;n<w.length;n++)d=w[n],l.questionsAnswered[s].answersSelected[d].selected=!0}i.answerCoordinates&&(l.questionsAnswered[s].answerCoordinates=i.answerCoordinates)}l.numCorrect=v.score;var b=l.config.scoreSettings.passingScore.value;if(l.numCorrect>=b&&(l.passed=!0),!l.quizData.resultsSubmitted){var y=l.scoredAssessments[l.scoredAssessments.length-1],A=l.config.scoreSettings.retrySetting.value;switch(g=null,p=null,A){case"No Retries":l.submitCompletedAssessment(y);break;case"Limited Retries":var q=!1;for(t=0;t<l.scoredAssessments.length;t++)p=l.scoredAssessments[t],!q&&_.isEqual(p,v)?(l.submitCompletedAssessment(p),q=!0):l.submitIncompleteAssessment(p);break;case"Retry Until Pass":l.submitCompletedAssessment(y);break;case"Test Yourself":}l.quizData.resultsSubmitted=!0}},l.submitIncompleteAssessment=function(e){var t=l.assessmentService.makePayload(e,"incomplete");s.sendAssessmentData(t)},l.submitCompletedAssessment=function(e){var t=l.assessmentService.makePayload(e,"completed");s.sendAssessmentData(t),l.config.scoreSettings.sendCourseCompletion&&l.submitCourseCompletionEvent(t)},l.submitCourseCompletionEvent=function(e){var t=l.assessmentService.makeCompletionEventPayload(e);s.sendCourseCompletion(t)},l.drawSVGImages=function(e){if("drag-and-drop"===e.type||"image-hotspot"===e.type){var t=$('.question[data-id="'+e.id+'"]'),n=t.find("svg");n.each(function(t,n){var i=e.SVGWidth,s=e.SVGHeight;n.setAttribute("viewBox","0 0 "+i+" "+s),a.copyToSVGElement(n,e.SVGData),$(n).is(".correct svg")?l.drawCorrectAnswers(n,e):l.drawUserAnswers(n,e)})}},l.drawCorrectAnswers=function(e,t){var n=$(e),i=n.closest(".img-wrapper"),s=n.find("circle.menu-circle");"image-hotspot"===t.type&&(s=n.find('[data-index="correct"] circle.menu-circle')),i.find(".pin").remove(),s.each(function(e,t){var n,s=$(t);n=$("<div>").addClass("pin").addClass(l.config.scoreSettings.highlightColor["class"]),n.css({top:s.offset().top-i.offset().top-22,left:s.offset().left-i.offset().left-4}).text(s.closest("g").find("text").text()),i.append(n)})},l.drawUserAnswers=function(e,t){var n=$(e),s=n.closest(".img-wrapper");s.find(".pin").remove();for(var o=0,r=t.answerCoordinates.length;r>o;o++){var a=l.svgEl("circle",{cx:t.answerCoordinates[o].x,cy:t.answerCoordinates[o].y,r:1},e),c=$(a),u=$("<div>").addClass("pin");u.css({top:c.offset().top-s.offset().top-30,left:c.offset().left-s.offset().left-12}).text(i("convertAnswerChoice")(t.answerCoordinates[o].idx,l.config)),u.addClass(t.answerCoordinates[o].correct?"green":"red"),s.append(u)}},l.svgEl=function(e,t,n){var i=$(document.createElementNS("http://www.w3.org/2000/svg",e));return t&&i.attr(t),"image"===e&&i[0].setAttributeNS("http://www.w3.org/1999/xlink","href",t["xlink:href"]),i.appendTo(n?n:"svg"),i},l.resizeHandler=function(){var e=0;t.cancel(e),e=t(function(){var e,t=$(".correct svg"),n=$(".user-answer svg");t.each(function(t,n){e=$(n).closest(".question").data("id"),l.drawCorrectAnswers(n,l.questionsAnswered[e])}),n.each(function(t,n){e=$(n).closest(".question").data("id"),l.drawUserAnswers(n,l.questionsAnswered[e])})},150)},r.$watch("$viewContentLoaded",function(){e.setupDone=!0,t(function(){for(var e in l.questionsAnswered)l.drawSVGImages(l.questionsAnswered[e]);r.$broadcast("render:complete")},0)}),r.$on("render:complete",function(){t(function(){s.setHeight(document.body.scrollHeight+1),$(n).on("resize orientationchange",l.resizeHandler)},50)}),r.$on("$destroy",function(){$(n).off("resize orientationchange",l.resizeHandler),$("body").removeClass("viewer-score prevent-overflow")})}e.$inject=["$rootScope","$timeout","$window","$filter","api","assessment","$scope","utils"];var t={restrict:"E",templateUrl:"app/components/viewer-score-results/viewer-score-results.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheck").directive("viewerScoreResults",e)}(),function(){"use strict";function e(e,t,n){var i={restrict:"A",require:"?ngModel",link:function(i,s,o){var r,a=$(s);a.css("opacity",0),t(function(){var e;$(n).resize(function(){t.cancel(e),e=t(function(){a.height()<=0?(a.css("height","auto"),r=a.height(),a.height(0)):(a.css("height","auto"),r=a.height(),a.height(r))},500)}),i.$on("$destroy",function(){t.cancel(e)})}),t(function(){r=a.height(),a.height(0),a.css("opacity",1);var t=a.next();t.css({opacity:0}),i.$watch(o.ngModel,function(n){var i=n;i&&r>0?(a.stop().animate({height:r},500),t.stop().animate({"margin-top":14,opacity:1},500),e.setHeight($(document).height())):i||void 0===i||(a.stop().animate({height:0},{duration:500,complete:function(){e.setHeight($(document).height())}}),t.stop().animate({"margin-top":0,opacity:0},500))})})}};return i}e.$inject=["api","$timeout","$window"],angular.module("inklingKnowledgeCheck").directive("explanationResizeOnToggle",e)}(),function(){"use strict";function e(){function e(e,t,n,i,s,o,r,a){var l=this;l.config=e.config,l.quizData=e.quizData,l.currentAssessment=e.quizData.currentAssessment,l.submittedAssessments=e.quizData.submittedAssessments,l.numQuestionsAnswered=0,l.questionsAnswered={},l.questionsOverviewToggled=!1,l.currentQuestionIdx=e.quizData.currentQuestionIdx,l.isOnline=!0,l.droppableID=1,l.shuffledQuestions={},l.preventSubmit=!0,l.fillUpAnswers=[],l.sortableOptions={containment:".img-wrapper",appendTo:"body",scroll:!0,helper:"clone",cancel:".disabled",start:function(e,t){t.item.show(),t.helper.css("width","50px"),$(this).sortable("refreshPositions")},update:function(e,t){t.item.sortable.cancel()},sort:function(e,t){var n=e.pageY,i=e.pageX;t.helper.css({top:n-10+"px",left:i-50+"px"})},stop:function(e,n){var i,s,o,r,a,c=$("body"),u=$('[data-question-id="'+l.config.questions[l.currentQuestionIdx].id+'"] .img-wrapper'),d=$('[data-question-id="'+l.config.questions[l.currentQuestionIdx].id+'"] .sortable'),g=n.item.clone(),p=u.offset();u.find(".ui-sortable-placeholder").remove(),i=e.clientX+c.scrollLeft()-p.left,s=e.clientY+c.scrollTop()-p.top,a=u.outerWidth()/l.config.questions[l.currentQuestionIdx].SVGWidth,d.append(g),n.item.addClass("disabled"),g.css({top:s-13,left:i-53,"z-index":1e3}),o=(i-37)/a,r=(s+18)/a,l.svgEl("circle",{cx:o,cy:r,r:1,"data-id":n.item.data("id")}),t.$apply(function(){l.droppables.push({id:n.item.data("id"),idx:n.item.data("index"),x:o,y:r,correct:!1}),l.updateDroppableQuestionsAnswered(l.config.questions[l.currentQuestionIdx].id,l.droppables)})}},l.sortables=[],l.droppables=[],l.droppableOptions={scroll:!0,appendTo:"body",containment:"body",forceHelperSize:!0,update:function(e,n){var i,s,o,r,a,c=$("body"),u=$('[data-question-id="'+l.config.questions[l.currentQuestionIdx].id+'"] .img-wrapper'),d=u.offset(),g=n.item.clone();i=e.clientX+c.scrollLeft()-d.left,s=e.clientY+c.scrollTop()-d.top,a=u.outerWidth()/l.config.questions[l.currentQuestionIdx].SVGWidth,n.item.addClass("disabled"),g.css({top:s-13,left:i-53}).addClass("clone"),o=(i-37)/a,r=(s+18)/a,l.svgEl("circle",{cx:o,cy:r,r:1,"data-id":n.item.data("id")}),t.$apply(function(){l.droppables.push({id:n.item.data("id"),idx:n.item.data("index"),x:o,y:r,correct:!1}),l.updateDroppableQuestionsAnswered(l.config.questions[l.currentQuestionIdx].id,l.droppables)}),$(this).append(g)},stop:function(e,t){var n,i,s,o=$("body"),r=$('[data-question-id="'+l.config.questions[l.currentQuestionIdx].id+'"] .img-wrapper'),a=r.offset();r.find(".ui-sortable-placeholder").remove(),n=e.clientX+o.scrollLeft()-a.left,i=e.clientY+o.scrollTop()-a.top,s=r.outerWidth()/l.config.questions[l.currentQuestionIdx].SVGWidth,t.item.css({top:i-13,left:n-53,"z-index":1e3}),r.find("svg.answer circle[data-id="+t.item.data("id")+"]").remove(),l.svgEl("circle",{cx:(n-37)/s,cy:(i+18)/s,r:1,"data-id":t.item.data("id")});for(var c=0,u=l.droppables.length;u>c;c++){var d=l.droppables[c];t.item.data("id")===d.id&&(d.x=(n-37)/s,d.y=(i+18)/s)}l.updateDroppableQuestionsAnswered(l.config.questions[l.currentQuestionIdx].id,l.droppables)},sort:function(e,t){var n=$(e.target);if(t.item.hide(),!/html|body/i.test(n.offsetParent()[0].tagName)){var i=e.pageY-n.offsetParent().offset().top,s=e.pageX-n.offsetParent().offset().left;t.helper.css({top:i-10+"px",left:s-53+"px"})}}},l.imageHotspotOptions={scroll:!0,scrollSensitivity:80,scrollSpeed:3,stop:function(e,t){var n,i,s=$("body"),o=$('[data-question-id="'+l.config.questions[l.currentQuestionIdx].id+'"] .img-wrapper'),r=o.offset(),a=o.outerWidth()/l.config.questions[l.currentQuestionIdx].SVGWidth;n=e.clientX+s.scrollLeft()-r.left,i=e.clientY+s.scrollTop()-r.top,t.item.css({top:i-30,left:n-13}),o.find("svg.answer circle[data-id="+t.item.data("id")+"]").remove(),l.svgEl("circle",{cx:n/a,cy:i/a,r:1,"data-id":t.item.data("id")});for(var c=0,u=l.droppables.length;u>c;c++){var d=l.droppables[c];t.item.data("id")===d.id&&(d.x=n/a,d.y=i/a)}l.updateDroppableQuestionsAnswered(l.config.questions[l.currentQuestionIdx].id,l.droppables)}},t.$watch("$viewContentLoaded",function(){e.setupDone=!0,n(function(){r.setHeight($(document).height())},1e3)}),t.$watch(function(){return e.isOnline},function(){l.isOnline=e.isOnline},!1),l.init=function(){var o,r,c,u,d;for(l.quizData.resultsSubmitted&&i.go("score-results",{},{location:!e.embedded}),$("body").addClass("viewer-quiz"),c=l.config.questions,o=0;o<c.length;o++)for(u=c[o].id,l.questionsAnswered[u]={toggled:!1,answersSelected:{}},r=0;r<c[o].answers.length;r++){var g=c[o].answers[r];d=g.id,l.questionsAnswered[u].answersSelected[d]={toggled:!1}}for(c=l.currentAssessment.questions,o=0;o<c.length;o++)if(u=c[o].id,c[o].answerIds&&c[o].answerIds.length>=1)for(l.questionsAnswered[u].toggled=!0,r=0;r<c[o].answerIds.length;r++)d=c[o].answerIds[r],l.questionsAnswered[u].answersSelected[d].toggled=!0;l.resetAllDroppables(),l.updateNumAnswered(),n(function(){var e=$("viewer-quiz svg");e.each(function(e,t){var n,i,s=$(t);n=l.config.questions[s.data("question-index")].SVGWidth,i=l.config.questions[s.data("question-index")].SVGHeight,t.setAttribute("viewBox","0 0 "+(n||0)+" "+(i||0)),s.is(".question")&&a.copyToSVGElement(t,l.config.questions[s.data("question-index")].SVGData)})},100),$(s).bind("resize orientationchange",function(){var e=0;n.cancel(e),e=n(l.updateCoordinates,150)}),t.$on("$destroy",function(){$(s).off("resize orientationchange",l.updateCoordinates),$("body").removeClass("viewer-quiz")})},l.addDroppable=function(e){var t,n,i=$("body"),s=$('[data-question-id="'+l.config.questions[l.currentQuestionIdx].id+'"] .img-wrapper'),o=s.offset(),r=s.find(".image-hotspot.sortable"),a=$('<div class="pin '+l.config.scoreSettings.highlightColor["class"]+'" data-id="'+l.droppableID+'"></div>'),c=s.outerWidth()/l.config.questions[l.currentQuestionIdx].SVGWidth,u=r.find(".pin");if($(e.target).is(".pin")){$(e.target).remove();for(var d=0,g=l.droppables.length;g>d;d++){var p=l.droppables[d];$(e.target).data("id")===p.id&&l.droppables.splice(d,1)}return void(0===l.droppables.length&&(l.questionsAnswered[l.config.questions[l.currentQuestionIdx].id].toggled=!1,l.updateNumAnswered()))}"touchend"===e.type?(t=e.originalEvent.changedTouches[0].clientX+i.scrollLeft()-o.left,n=e.originalEvent.changedTouches[0].clientY+i.scrollTop()-o.top):(t=e.clientX+i.scrollLeft()-o.left,n=e.clientY+i.scrollTop()-o.top),u.length>0?(u.css({top:n-30,left:t-13}),s.find("svg.answer circle[data-id="+l.droppableID+"]").remove()):(a.css({top:n-30,left:t-13}),r.append(a)),l.droppables[0]={id:l.droppableID,x:t/c,y:n/c,correct:!1},l.svgEl("circle",{cx:t/c,cy:n/c,r:1,"data-id":l.droppableID}),l.updateDroppableQuestionsAnswered(l.config.questions[l.currentQuestionIdx].id,l.droppables)},l.updateCoordinates=function(){var e,t,n=$('[data-question-id="'+l.config.questions[l.currentQuestionIdx].id+'"] .img-wrapper'),i=n.find("svg.answer"),s=n.find(".answer-wrapper, .pin");if(i.length&&s.length){if(e=(i[0].getAttribute("viewBox")||"").split(" ").map(Number),e.length<4)return void o.warn("vm.updateCoordinates: malformed SVG element. viewBox attribute is required");t={x:i.width()/(e[2]-e[0]),y:i.height()/(e[3]-e[1])},s.each(function(e,n){var s,o,r,a;s=$(n);for(var c=l.droppables.length,u=0;c>u;u++)l.droppables[u].id===s.data("id")&&(o=i.find("circle[data-id="+s.data("id")+"]"),r=Number(o[0].getAttribute("cx")),a=Number(o[0].getAttribute("cy")),s.css({top:t.y*a-31,left:t.x*r-13}))})}},l.resetLabels=function(e,t){e&&e.preventDefault();var n=t||l.config.questions[l.currentQuestionIdx].id,i=$('[data-question-id="'+n+'"] .img-wrapper');if(i.length){l.droppables=[],i.find(".answer-wrapper").remove(),i.find("svg.answer circle").remove(),$('[data-question-id="'+n+'"] fieldset .answer-wrapper.disabled').removeClass("disabled");var s=_.find(l.currentAssessment.questions,{id:n});s&&(s.answerCoordinates=[]),l.updateNumAnswered()}},l.resetAllDroppables=function(){var e=l.config.questions||[];e.forEach(function(e){("drag-and-drop"===e.type||"image-hotspot"===e.type)&&n(function(){l.resetLabels(null,e.id),l.updateNumAnswered()})})},l.updateQuestionsAnswered=function(e,t,n,i){"multiple-answer"===e?l.updateMultipleAnswers(t,n):"multiple-choice"===e||"true-false"===e?l.updateOneAnswer(t,n):"sequencing"===e?l.updateSequenceAnswers(t,n,i):"fill-in-the-blank"===e&&l.updateFillupAnswer(t,n),l.updateNumAnswered()},l.updateDroppableQuestionsAnswered=function(e,t){for(var n=!1,i=0;i<l.currentAssessment.questions.length;i++)if(l.currentAssessment.questions[i].id===e){l.currentAssessment.questions[i].answerCoordinates=t,n=!0;break}if(!n){var s={id:e,answerCoordinates:t};l.currentAssessment.questions.push(s)}l.questionsAnswered[e].toggled=!0,l.updateNumAnswered()},l.updateMultipleAnswers=function(e,t){for(var n=!1,i=0;i<l.currentAssessment.questions.length;i++)if(l.currentAssessment.questions[i].id===e){var s=l.currentAssessment.questions[i].answerIds,o=s.indexOf(t);o>-1?s.splice(o,1):s.push(t),l.questionsAnswered[e].toggled=s.length>=1,n=!0;break}if(!n){var r={id:e,answerIds:[]};l.questionsAnswered[e].toggled=!0,r.answerIds.push(t),l.currentAssessment.questions.push(r)}},l.updateOneAnswer=function(e,t){for(var n=!1,i=0;i<l.currentAssessment.questions.length;i++)if(l.currentAssessment.questions[i].id===e){var s=[];s.push(t),l.currentAssessment.questions[i].answerIds=s,n=!0;break}if(!n){var o={id:e,answerIds:[]};o.answerIds.push(t),l.currentAssessment.questions.push(o)}l.questionsAnswered[e].toggled=!0},l.updateSequenceAnswers=function(e,t,n){for(var i=!1,s=0;s<l.currentAssessment.questions.length;s++)if(l.currentAssessment.questions[s].id===e){l.currentAssessment.questions[s].answerIds=t.map(function(e){return e}),l.currentAssessment.questions[s].answers=n.map(function(e){return e}),i=!0;break}if(!i){var o={id:e,answerIds:[],answers:[]};o.answerIds=t.map(function(e){return e}),o.answers=n.map(function(e){return e}),l.currentAssessment.questions.push(o)}l.questionsAnswered[e].toggled=!0},l.updateFillupAnswer=function(e,t){for(var n=!1,i=angular.element("#fillup-"+e).val(),s=0;s<l.currentAssessment.questions.length;s++)if(l.currentAssessment.questions[s].id===e){var o=[];o.push(i),l.currentAssessment.questions[s].answers=o;var r=[];r.push(t),l.currentAssessment.questions[s].answerIds=r,n=!0;break}if(!n){var a={id:e,answerIds:[],answers:[]};a.answers.push(i),a.answerIds.push(t),l.currentAssessment.questions.push(a)}l.questionsAnswered[e].toggled=!0},l.updateNumAnswered=function(){for(var e=0,t=l.currentAssessment.questions,i=0;i<t.length;i++)t[i].answerIds&&t[i].answerIds.length>=1?e++:t[i].answerCoordinates&&t[i].answerCoordinates.length>=1&&e++;l.numQuestionsAnswered=e,n(function(){l.preventSubmit=l.numQuestionsAnswered<l.config.questions.length||!l.isOnline},100)},l.submit=function(){l.setCurrentQuestionIdx(0);var t=JSON.parse(JSON.stringify(l.currentAssessment));l.submittedAssessments.push(t),l.currentAssessment.questions.length=0,i.go("limited-retries",{},{location:!e.embedded})},l.setCurrentQuestionIdx=function(t){l.currentQuestionIdx=t,e.quizData.currentQuestionIdx=l.currentQuestionIdx,l.questionsOverviewToggled=!1,l.droppables=l.currentAssessment.questions[l.currentQuestionIdx]&&l.currentAssessment.questions[l.currentQuestionIdx].answerCoordinates?l.currentAssessment.questions[l.currentQuestionIdx].answerCoordinates:[]},l.svgEl=function(e,t,n){var i=$(document.createElementNS("http://www.w3.org/2000/svg",e));return t&&i.attr(t),"image"===e&&i[0].setAttributeNS("http://www.w3.org/1999/xlink","href",t["xlink:href"]),i.appendTo(n?n:".img-wrapper svg.answer"),i},l.shuffle=function(e,t){var n;e.length||(l.shuffledQuestions[t]=[]);var i=_.find(l.currentAssessment.questions,{id:t});if(i&&i.answerIds){n=[];for(var s=0;s<i.answerIds.length;s++){var o=i.answerIds[s],r=_.find(e,{id:o});n.push(r)}}else n=e.slice(),n.sort(function(){return.5-Math.random()});l.shuffledQuestions[t]=n},l.processFillInFieldKeys=function(e){var t=[9,13],n=[13],i=Number(e.keyCode);e.stopPropagation(),i&&(t.indexOf(i)>=0&&e.preventDefault(),n.indexOf(i)>=0&&e.currentTarget.blur())},l.onAnswerFieldChange=function(e){l.updateAnswerFieldWidth("input#"+e)},l.updateAnswerFieldWidth=function(e){var t,n,i=$(e),s=$(".shadow-answer");i.length&&(t=i.val()||"",s.text(t),n=s.outerWidth(!0),i.css("width",n+5),i.attr("size",t.length||1))},l.initAnswerField=function(e){n(function(){l.updateAnswerFieldWidth("input#"+e)})},l.sortable=function(){var e=$(".seq-sortable");e.sortable({placeholder:"ui-state-highlight",axis:"y",start:function(e,t){t.item.show()},stop:function(e,t){$(t.item).removeClass("dragged");var n=this.id,i=$("#"+n).sortable("toArray"),s=parseInt(n,10),o={};angular.extend(o,i);var r=i.map(function(e){return parseInt(e.split("*")[1],10)}),a=i.map(function(e){return e.split("*")[1].split("_")[1]});l.updateQuestionsAnswered("sequencing",s,r,a)}}),e.disableSelection(),e.bind("sortstart",function(e,t){var n=$(t.item).html();$(t.item).addClass("dragged"),$(".ui-state-highlight").html("").append(n)})}}e.$inject=["$rootScope","$scope","$timeout","$state","$window","$log","api","utils"];var t={restrict:"E",templateUrl:"app/components/viewer-quiz/viewer-quiz.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheck").directive("viewerQuiz",e)}(),function(){"use strict";function e(e,t,n){var i={restrict:"A",link:function(i,s,o){var r=o.id;e(function(){var s,o=function(){e.cancel(s),s=e(function(){var e,t,i,s=$("#"+r)[0];s&&(e=s.slick,i=e.getCurrent(),t=$(e.$slides.get(i)),$(s).height(t.height())),n.setHeight($(document).height())},500)};$(t).bind("resize orientationchange",o),i.$on("$destroy",function(){e.cancel(s),$(t).unbind("resize",o),$(t).unbind("orientationchange",o)})})}};return i}e.$inject=["$timeout","$window","api"],angular.module("inklingKnowledgeCheck").directive("slickResizeOnWindow",e)}(),function(){"use strict";function e(e,t,n){var i={restrict:"A",require:"?ngModel",link:function(i,s,o){var r,a=$(s);t(function(){var e;$(n).resize(function(){t.cancel(e),e=t(function(){a.height()<=0?(a.css("height","auto"),r=a.height(),a.height(0)):(a.css("height","auto"),r=a.height(),a.height(r))},500)}),i.$on("$destroy",function(){t.cancel(e)})}),t(function(){r=a.height(),a.height(0);var t=a.next();t.css({opacity:0}),i.$watch(o.ngModel,function(n){var i=o.slickId,s=$(i).get(0).slick.getCurrent(),l=$(i).get(0).slick,c=$(l.$slides.get(s)),u=c.height(),d=n;d&&r>0?(a.stop().animate({height:r},500),t.stop().animate({"margin-top":30,opacity:1},500),$(i).height(u+r),e.setHeight($(document).height())):(a.stop().animate({height:0},{duration:500,complete:function(){e.setHeight($(document).height())}}),t.stop().animate({"margin-top":0,opacity:0},500),$(i).height(u))})})}};return i}e.$inject=["api","$timeout","$window"],angular.module("inklingKnowledgeCheck").directive("slickResizeOnToggle",e)}(),function(){"use strict";function e(e){var t={restrict:"A",link:function(t,n,i){var s=i.id;$("#"+s).on("beforeChange",function(t,n,i,o){var r=$(n.$slides.get(o));$("#"+s).height(r.height()),e.setHeight($(document).height())})}};return t}e.$inject=["api"],angular.module("inklingKnowledgeCheck").directive("slickResizeOnBeforeChange",e)}(),function(){"use strict";function e(e){var t={restrict:"A",link:function(t,n,i){var s=i.id;$("#"+s).on("afterChange",function(t,n,i){var o=$(n.$slides.get(i));$("#"+s).height(o.height()),e.setHeight($(document).height())})}};return t}e.$inject=["api"],angular.module("inklingKnowledgeCheck").directive("slickResizeOnAfterChange",e)}(),function(){"use strict";function e(e){var t={restrict:"A",scope:!1,link:function(t,n,i){var s=i.id;$("#"+s).on("afterChange",function(e,n,i){t.vm.setCurrentQuestionIdx(i),t.$apply()}),$(e).trigger("resize")}};return t}e.$inject=["$window"],angular.module("inklingKnowledgeCheck").directive("slickOnAfterChange",e)}(),function(){"use strict";function e(e){var t={restrict:"E",link:function(t,n,i){e(function(){var e=i.slickId,t=parseInt(i.initialIndex);$("#"+e).slick("slickGoTo",t,!0)})}};return t}e.$inject=["$timeout"],angular.module("inklingKnowledgeCheck").directive("slickInitial",e)}(),function(){"use strict";function e(){var e={restrict:"A",scope:{},link:function(e,t,n){var i=n.slickId,s=parseInt(n.slickIndex);$(t).on("click",function(){$("#"+i).slick("slickGoTo",s)})}};return e}angular.module("inklingKnowledgeCheck").directive("slickGoTo",e)}(),function(){"use strict";function e(){var e={restrict:"A",link:function(e,t){$(t).on("touchstart",function(){$(this).css("background-color","#47A5D1")}),$(t).on("touchend",function(){$(this).css("background-color","#7E8A90")})}};return e}angular.module("inklingKnowledgeCheck").directive("removeHover",e)}(),function(){"use strict";function e(){var e={restrict:"A",link:function(e,t){$(t).on("click",function(){var e=$(t).prevAll("input"),n=e.is(":checked");if(e.is(":radio"))e.prop("checked",!0),e.closest("fieldset").find("input").each(function(){$(this).closest(".answer-wrapper").removeClass("selected")}),e.closest(".answer-wrapper").addClass("selected");else if(e.is(":checkbox")){var i=!n;e.prop("checked",i),i?e.closest(".answer-wrapper").addClass("selected"):e.closest(".answer-wrapper").removeClass("selected")}})}};return e}angular.module("inklingKnowledgeCheck").directive("checkAnswerInput",e)}(),function(){"use strict";function e(){var e={restrict:"A",scope:{},link:function(e,t){var n=e.$parent.$parent.question.id,i=e.$parent.answer.id;e.$parent.vm.questionsAnswered[n].answersSelected[i].toggled&&($(t).prop("checked","checked"),$(t).closest(".answer-wrapper").addClass("selected"))}};return e}angular.module("inklingKnowledgeCheck").directive("answerSelected",e)}(),function(){"use strict";function e(e){var t={restrict:"A",scope:{},link:function(t,n,i){var s=i.imgUrl;$(n).prepend('<img src="'+s+'"/>'),$(n).find("img").on("load",function(){$(e).trigger("resize")})}};return t}e.$inject=["$window"],angular.module("inklingKnowledgeCheck").directive("addImage",e)}(),function(){"use strict";function e(){function e(e,t,n,i,s,o){var r=this;r.config=e.config,r.submittedAssessments=e.quizData.submittedAssessments,r.attemptsRemaining=0,r.score=0,r.isOnline=!0,r.assessmentService=s,r.scoredAssessment=null,r.passed=!1,r.init=function(){var t=r.submittedAssessments[r.submittedAssessments.length-1],i=r.config.scoreSettings.maxNumberOfRetries.value,s=r.submittedAssessments.length-1;r.attemptsRemaining=i-s,r.scoredAssessment=r.assessmentService.score(t),r.score=r.scoredAssessment.score;var o=r.config.scoreSettings.passingScore.value;r.score>=o&&(r.passed=!0);var a=r.config.scoreSettings.retrySetting.value;switch(a){case"No Retries":n.go("score-results",{},{location:!e.embedded});break;case"Limited Retries":s>=i&&n.go("score-results",{},{location:!e.embedded});break;case"Retry Until Pass":r.score>=o?n.go("score-results",{},{location:!e.embedded}):r.submitIncompleteAssessment(r.scoredAssessment);break;case"Test Yourself":n.go("score-results",{},{location:!e.embedded})}},r.submitIncompleteAssessment=function(e){var t=r.assessmentService.makePayload(e,"incomplete");i.sendAssessmentData(t)},r.takeAgain=function(){n.go("quiz",{},{location:!e.embedded})},o.$watch("$viewContentLoaded",function(){e.setupDone=!0}),o.$watch(function(){return e.isOnline},function(){r.isOnline=e.isOnline},!1)}e.$inject=["$rootScope","$timeout","$state","api","assessment","$scope"];var t={restrict:"E",templateUrl:"app/components/viewer-limited-retries/viewer-limited-retries.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheck").directive("viewerLimitedRetries",e)}(),function(){"use strict";function e(){function e(e,t,n,i,s){var o=this;o.quizData=e.quizData,o.config=e.config,o.init=function(){o.quizData.resultsSubmitted&&t.go("score-results",{},{location:!e.embedded})},n.$watch("$viewContentLoaded",function(){e.setupDone=!0,i(function(){s.setHeight($(document).height())},1e3)})}e.$inject=["$rootScope","$state","$scope","$timeout","api"];var t={restrict:"E",templateUrl:"app/components/viewer-entry-screen/viewer-entry-screen.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheck").directive("viewerEntryScreen",e)}(),function(){"use strict";function e(){function e(e){for(var t=1,n=!1,i=!1;!n;){i=!1;for(var s=0,o=e.length;o>s;s++)t===e[s].id&&(i=!0);i?t++:n=!0}return t}function t(e,t,n){var i,s,o,r,a,l,c,u=!1;if(e[0]){switch(e[0].tagName.toLowerCase()){case"circle":i=parseInt(e.attr("cx"),10),s=parseInt(e.attr("cy"),10),o=parseInt(e.attr("r"),10),r=i+o,a=i-o,l=s+o,c=s-o,u=r>t&&t>a&&l>n&&n>c}return u}}function n(e){for(var t="",n=0,i=e.length;i>n;n++)t+=e[n].x+","+e[n].y+" ";return t}function i(e,t){var n,i;return e&&(n=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"><g>'+(t||"")+"</g></svg>",i=n.childNodes[0],e.appendChild(i.childNodes[0])),e}function s(e,t){var n=e.x,i=e.y,s=parseInt(t.attr("x"),10),o=parseInt(t.attr("y"),10),r=s+parseInt(t.attr("width"),10),a=o+parseInt(t.attr("height"),10);return n>s&&r>n&&i>o&&a>i}function o(e,t){for(var n=e.x,i=e.y,s=t&&$(t)[0].points||[],o=_.map(s,function(e){return{x:e.x,y:e.y}}),r=!1,a=0,l=o.length-1;a<o.length;l=a++){var c=o[a].x,u=o[a].y,d=o[l].x,g=o[l].y,p=u>i!=g>i&&(d-c)*(i-u)/(g-u)+c>n;p&&(r=!r)}return r}var r={generateId:e,isInSVGElement:t,pointsObjectArrayToString:n,copyToSVGElement:i,isInRectangle:s,isInPolygon:o};return r}angular.module("inklingKnowledgeCheckUtilities").factory("utils",e)}(),function(){"use strict";function e(e,t,n){var i={restrict:"A",link:function(i){e(function(){var s;n.setHeight($(document).height());var o=function(){e.cancel(s),s=e(function(){n.setHeight($(document).height())},500)};$(t).bind("resize",o),i.$on("$destroy",function(){e.cancel(s),$(t).unbind("resize",o)})})}};return i}e.$inject=["$timeout","$window","api"],angular.module("inklingKnowledgeCheck").directive("resizeOnWindow",e)}(),function(){"use strict";function e(e,t){var n={restrict:"A",require:"?ngModel",link:function(n,i,s){n.$watch(s.ngModel,function(){t(function(){e.setHeight($(document).height())},500)})}};return n}e.$inject=["api","$timeout"],angular.module("inklingKnowledgeCheck").directive("resizeOnToggle",e)}(),function(){"use strict";angular.module("ta-maxlength",[]).directive("taMaxlength",["$timeout","textAngularManager",function(e,t){return{restrict:"A",link:function(n,i,s){var o,r=parseInt(s.taMaxlength),a=function(e){return $.truncate(e,{length:r+1,ellipsis:""})},l=function(){return o.scope.displayElements.text[0]},c=function(){return angular.element(l()).text().length},u=function(e){return e>=33&&40>=e||-1!==[8,46].indexOf(e)},d=function(e){return e.ctrlKey&&-1!==[65,67,88].indexOf(e.keyCode)};n.$watch(function(){var e=t.retrieveEditor(s.name);return void 0!==e&&void 0===o&&(o=e,l().addEventListener("keydown",function(e){return!u(e.keyCode)&&!d(e)&&c()>=r?(e.preventDefault(),!1):void 0})),void 0===e?"":o.scope.html},function(t){c()>r&&e(function(){o.scope.html=a(t)})})}}}])}(),function(){"use strict";function e(){return function(e){return e?String(e).replace(/<[^>]+>/gm,""):""}}angular.module("inklingKnowledgeCheckUtilities").filter("stripHTML",e)}(),function(){"use strict";function e(){return function(e,t){return t=t.reverse(),e.replace(/{}/g,function(){return t.pop()})}}angular.module("inklingKnowledgeCheckUtilities").filter("stringFormat",e)}(),function(){"use strict";function e(){return function(e,t){var n;return n=1===t.scoreSettings.answerLabels.id?String.fromCharCode(97+e):2===t.scoreSettings.answerLabels.id?String.fromCharCode(65+e):3===t.scoreSettings.answerLabels.id?e+1:""}}angular.module("inklingKnowledgeCheckUtilities").filter("convertAnswerChoice",e)}(),function(){"use strict";function e(){return function(e){var t=document.createElement("a");return t.href=e,t.href}}angular.module("inklingKnowledgeCheckUtilities").filter("absoluteUrl",e)}(),function(){"use strict";function e(e){function t(t,n){var i=this;i.view=!1,i.config=e.config,i.retrySettings=[{id:1,value:"No Retries"},{id:2,value:"Limited Retries"},{id:3,value:"Retry Until Pass"},{id:4,value:"Test Yourself"}],i.maxRetries=[],i.answerLabels=[{id:1,label:"Alpha Lowercase",value:"a"},{id:2,label:"Alpha Uppercase",value:"A"},{id:3,label:"Numeric",value:"1"}],i.numberQuestions=[{value:!0,label:"Yes"},{value:!1,label:"No"}],i.highlightColors=[{id:1,value:"#017cb8",label:"Blue","class":"blue"},{id:2,value:"#9c9c9c",label:"Gray","class":"gray"},{id:2,value:"#3b3d47",label:"Black","class":"black"}],i.startNumberingAt=[],i.init=function(){i.setPassingScores(),i.setMaxRetries(),i.setStartNumberingAt(),e.$watch("config.questions",function(e,t){e!==t&&i.setPassingScores()},!0)},i.setPassingScores=function(){var t=e.config.questions.length;if(i.passingScores=[],t>0)for(var n=t;n>0;n--)i.passingScores.push({value:n});else i.passingScores.push({value:1
})},i.setMaxRetries=function(){for(var e=0;5>e;e++)i.maxRetries.push({value:e+1})},i.setStartNumberingAt=function(){for(var e=0;100>e;e++)i.startNumberingAt.push({value:e+1})},i.updateSVGLabels=function(){for(var t=$("#svg-area"),n=0,s=e.config.questions.length;s>n;n++){var o,r=e.config.questions[n];r.SVGData&&(t.get(0).innerHTML=r.SVGData,o=t.find("[data-index]"),i.updateGroups(o),r.SVGData=t.html())}},i.updateGroups=function(e){e.each(function(e,t){var s=$(t),o=s.attr("data-index");"n"!==o&&s.find("text").text(n("convertAnswerChoice")(parseInt(o,10),i.config))})},i.updateSVGColors=function(){for(var t=$("#svg-area"),n=0,s=e.config.questions.length;s>n;n++){var o=e.config.questions[n];o.SVGData&&(t.get(0).innerHTML=o.SVGData,t.find("[fill]:not(circle)").attr("fill",i.config.scoreSettings.highlightColor.value),t.find("circle.menu-circle").attr("stroke",i.config.scoreSettings.highlightColor.value),o.SVGData=t.html())}},i.view=!0}t.$inject=["$log","$filter"];var n={restrict:"E",templateUrl:"app/components/editor-score-settings/editor-score-settings.html",scope:{},controller:t,controllerAs:"vm",bindToController:!0};return n}e.$inject=["$rootScope"],angular.module("inklingKnowledgeCheckEditor").directive("editorScoreSettings",e)}(),function(){"use strict";function e(){function e(e,t,n){var i=this;i.view=!1,i.addAnswerChoiceOnEnter=0,i.init=function(){i.config=e.$parent.vm.config,i.currentQuestion=e.$parent.vm.currentQuestion,i.currentQuestionIdx=e.$parent.vm.currentQuestionIdx,i.questionTypeSelection=e.$parent.vm.questionTypeSelection,i.changeQuestionType=e.$parent.vm.changeQuestionType,i.questionTypeSwitcher=e.$parent.vm.questionTypeSwitcher,i.deleteAnswer=e.$parent.vm.deleteAnswer,i.progressSpinner=e.$parent.vm.progressSpinner,i.questionType="Sequencing",i.scoreSettings={answerLabels:{}},i.scoreSettings.answerLabels=i.config.answerLabels[2],0===i.currentQuestion.answers.length&&(i.currentQuestion.answers.push({id:1,answer:""}),i.currentQuestion.answers.push({id:2,answer:""})),t(function(){$(".ui-sortable").sortable({axis:"y"})},0),i.view=!0},i.addAnswerChoice=function(e,s){var o=n.generateId(i.currentQuestion.answers);13===e.keyCode&&1===i.addAnswerChoiceOnEnter?(t(function(){var e=o-1,t="text-angular[name='answer-htmlcontent-"+e+"']";angular.element(t).find("*[id*=taText]").focus()},0),i.currentQuestion.answers.push({id:o,answer:""}),i.addAnswerChoiceOnEnter=0):"1"===s&&(t(function(){var e=o-1,t="text-angular[name='answer-htmlcontent-"+e+"']";angular.element(t).find("*[id*=taText]").focus()},0),i.currentQuestion.answers.push({id:o,answer:""}))},i.tabOrder=function(e,t){var n,s;if("questionFlag"!==t&&(n="text-angular[name='answer-htmlcontent-"+t+"']",s=angular.element(n).find("*[id*=taText]")[0].innerText,"\n"===s&&13===e.keyCode&&e.preventDefault()),"questionFlag"===t&&9===e.keyCode)n="text-angular[name='answer-htmlcontent-0']",angular.element(n).find("*[id*=taText]").focus();else{var o=angular.element(".answer-choice").length;if(9===e.keyCode&&o-1>=t){var r=t+1;t===o-1?(angular.element("#addOption").focus(),i.addAnswerChoiceOnEnter=1):(n="text-angular[name='answer-htmlcontent-"+r+"']",angular.element(n).find("*[id*=taText]").focus())}}}}e.$inject=["$scope","$timeout","utils"];var t={restrict:"E",templateUrl:"app/components/editor-question-sequencing/editor-question-sequencing.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorQuestionSequencing",e)}(),function(){"use strict";function e(){function e(e,t){var n=this;n.view=!1,n.init=function(){n.config=e.$parent.vm.config,n.currentQuestion=e.$parent.vm.currentQuestion,n.currentQuestionIdx=e.$parent.vm.currentQuestionIdx,n.questionTypeSelection=e.$parent.vm.questionTypeSelection,n.changeQuestionType=e.$parent.vm.changeQuestionType,n.questionTypeSwitcher=e.$parent.vm.questionTypeSwitcher,n.pickImage=e.$parent.vm.pickImage,n.deleteImage=e.$parent.vm.deleteImage,n.progressSpinner=e.$parent.vm.progressSpinner,n.questionType="True/False",0===n.currentQuestion.answers.length&&(n.currentQuestion.answers.push({id:1,answer:"True",correct:!0}),n.currentQuestion.answers.push({id:2,answer:"False",correct:!1})),n.view=!0},n.setAnswerChoice=function(n){return t.convertAnswerChoice(e.$parent.vm.config,n)},n.updateCorrectAnswer=function(e){for(var t=0,i=n.currentQuestion.answers.length;i>t;t++)n.currentQuestion.answers[t].correct=n.currentQuestion.answers[t]===e?!0:!1}}e.$inject=["$scope","utils"];var t={restrict:"E",templateUrl:"app/components/editor-question-true-false/editor-question-true-false.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorQuestionTrueFalse",e)}(),function(){"use strict";function e(){function e(e,t,n,i){var s=this;s.view=!1,s.init=function(){s.config=e.$parent.vm.config,s.currentQuestion=e.$parent.vm.currentQuestion,s.currentQuestionIdx=e.$parent.vm.currentQuestionIdx,s.questionTypeSelection=e.$parent.vm.questionTypeSelection,s.changeQuestionType=e.$parent.vm.changeQuestionType,s.questionTypeSwitcher=e.$parent.vm.questionTypeSwitcher,s.deleteAnswer=e.$parent.vm.deleteAnswer,s.pickImage=e.$parent.vm.pickImage,s.deleteImage=e.$parent.vm.deleteImage,s.progressSpinner=e.$parent.vm.progressSpinner,s.questionType="Multiple Choice",0===s.currentQuestion.answers.length&&(s.currentQuestion.answers.push({id:1,answer:"",correct:!0}),s.currentQuestion.answers.push({id:2,answer:"",correct:!1})),s.view=!0},s.addAnswerChoice=function(){var e=n.generateId(s.currentQuestion.answers);s.currentQuestion.answers.push({id:e,answer:"",correct:!1}),t.setTimeout(function(){var e=i.retrieveEditor("answer-htmlcontent-"+(s.currentQuestion.answers.length-1)).scope;e.displayElements.text.trigger("focus"),e.$apply()},10)},s.setAnswerChoice=function(t){return n.convertAnswerChoice(e.$parent.vm.config,t)},s.updateCorrectAnswer=function(e){for(var t=0,n=s.currentQuestion.answers.length;n>t;t++)s.currentQuestion.answers[t].correct=s.currentQuestion.answers[t]===e?!0:!1}}e.$inject=["$scope","$window","utils","textAngularManager"];var t={restrict:"E",templateUrl:"app/components/editor-question-multiple-choice/editor-question-multiple-choice.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorQuestionMultipleChoice",e)}(),function(){"use strict";function e(){function e(e,t,n,i){var s=this;s.view=!1,s.init=function(){s.config=e.$parent.vm.config,s.currentQuestion=e.$parent.vm.currentQuestion,s.currentQuestionIdx=e.$parent.vm.currentQuestionIdx,s.questionTypeSelection=e.$parent.vm.questionTypeSelection,s.changeQuestionType=e.$parent.vm.changeQuestionType,s.questionTypeSwitcher=e.$parent.vm.questionTypeSwitcher,s.deleteAnswer=e.$parent.vm.deleteAnswer,s.pickImage=e.$parent.vm.pickImage,s.deleteImage=e.$parent.vm.deleteImage,s.progressSpinner=e.$parent.vm.progressSpinner,s.questionType="Multiple Answer",0===s.currentQuestion.answers.length&&(s.currentQuestion.answers.push({id:1,answer:"",correct:!0}),s.currentQuestion.answers.push({id:2,answer:"",correct:!1})),s.view=!0},s.addAnswerChoice=function(){var e=n.generateId(s.currentQuestion.answers);s.currentQuestion.answers.push({id:e,answer:"",correct:!1}),t.setTimeout(function(){var e=i.retrieveEditor("answer-htmlcontent-"+(s.currentQuestion.answers.length-1)).scope;e.displayElements.text.trigger("focus"),e.$apply()},10)},s.setAnswerChoice=function(t){return n.convertAnswerChoice(e.$parent.vm.config,t)},s.updateCorrectAnswer=function(e){e.correct=!e.correct}}e.$inject=["$scope","$window","utils","textAngularManager"];var t={restrict:"E",templateUrl:"app/components/editor-question-multiple-answer/editor-question-multiple-answer.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorQuestionMultipleAnswer",e)}(),function(){"use strict";function e(){function e(e,t){var n=this;n.view=!1,n.init=function(){n.parent=t.$parent.vm,n.questionType="Image Hotspot",n.view=!0,e.setTimeout(function(){n.parent.setSVG()},10)}}e.$inject=["$window","$scope"];var t={restrict:"E",templateUrl:"app/components/editor-question-image-hotspot/editor-question-image-hotspot.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorQuestionImageHotspot",e)}(),function(){"use strict";function e(){function e(e,t){function n(e,t,n,a,l,c){if(e){var u=r(e,t);if(o(n,t,u),l){var d=s(n,c);n.style.width=d+"px",n.style.top=t.offsetTop+"px"}else n.style.width=$(a).width()+3+"px";i(n,a,t,e,c,!l)}}function i(e,t,n,i,o,r){var a=t.getBoundingClientRect(),l=s(e,o);if(a.height>=20||l<a.width){var c=o.getBoundingClientRect().width;r?e.style.top=i.getBoundingClientRect().height+"px":(e.style.width=c+"px",e.style.top=n.offsetTop+18+"px"),e.style.left="0"}}function s(e,t){var n=t.getBoundingClientRect().width,i=$(e).position().left;return n-i}function o(e,t,n){e.style.position="absolute",e.style.left=n.left+"px",e.style.top=n.top+"px"}function r(e,t){var n=document.createElement("span");n.textContent=e.textContent.trim(),n.style.position="absolute",n.style.visibility="hidden",n.style.left="0",n.style.top="0";var i=document.createElement("span");i.style.position="absolute",e.appendChild(i),t.appendChild(n);var s=$(i).position();return i.remove(),n.remove(),{top:Math.floor(s.top),left:Math.floor(s.left+t.offsetLeft)}}var a=this;a.view=!1,a.init=function(){a.config=e.$parent.vm.config,a.currentQuestion=e.$parent.vm.currentQuestion,a.currentQuestionIdx=e.$parent.vm.currentQuestionIdx,a.questionTypeSelection=e.$parent.vm.questionTypeSelection,a.changeQuestionType=e.$parent.vm.changeQuestionType,a.questionTypeSwitcher=e.$parent.vm.questionTypeSwitcher,a.questionType="Fill-in-the-Blank",a.getCursorPosition=!1,a.restrictedKeys=[9,13],0===a.currentQuestion.answers.length&&a.currentQuestion.answers.push({id:1,answer:""}),a.view=!0,t(function(){var e="text-angular[name='answerField']";angular.element(e).find("*[id*=taText]").focus()},0)},a.filterKeyCode=function(e){var t=Number(e.keyCode);t&&a.restrictedKeys.indexOf(t)>=0?e.preventDefault():e.stopPropagation(),a.changePrefix()},a.changePrefix=function(){var e=$("#question-first-part").parents(".question-content")[0];t(function(){var t=$("#question-first-part")[0],i=$(t).find("p")[0],s=$("#answer-field")[0],o=$(s).find("p")[0];n(i,t,s,o,!1,e),t=$("#answer-field")[0],i=$("#answer-field p")[0],s=$("#question-end-part")[0],o=$("#question-end-part p")[0],n(i,t,s,o,!0,e)})}}e.$inject=["$scope","$timeout"];var t={restrict:"E",templateUrl:"app/components/editor-question-fill-in-the-blank/editor-question-fill-in-the-blank.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorQuestionFillInTheBlank",e)}(),function(){"use strict";function e(){function e(e,t,n,i,s,o){var r=this;r.view=!1,r.sortableOptions={stop:function(){r.updateSVGAnswers()}},r.init=function(){r.parent=t.$parent.vm,r.questionType="Drag and Drop",0===r.parent.currentQuestion.answers.length&&r.parent.currentQuestion.answers.push({id:1,answer:"",correct:!1}),r.view=!0,e.$on("delete-answer",function(e,t){var n=$("#drop-area"),i=n.find('[data-id="'+t.id+'"]');i.removeAttr("data-id").removeAttr("data-index").find("text").remove(),i.each(function(e,t){var n=t.getBBox();r.parent.svgEl("image",{"class":"menu-circle","xlink:href":"/assets/pencil.svg",width:10,height:10,x:n.x+n.width/2-5,y:n.y+n.height/2-5},t)}),r.updateSVGAnswers(),r.parent.setupEvents()}),n.setTimeout(function(){r.parent.setSVG()})},r.updateSVGAnswers=function(){for(var e=$("#drop-area"),t=0,n=r.parent.currentQuestion.answers.length;n>t;t++){var i=r.parent.currentQuestion.answers[t],s=e.find('[data-id="'+i.id+'"]');r.updateSVGAnswerLabels(t,s)}},r.updateSVGAnswerLabels=function(e,t){t.each(function(t,n){var i=$(n);r.parent.currentGroup=i.closest("g"),r.parent.setSVGAnswerCircle(e,r.parent.currentQuestion.answers[e].id)})},r.addAnswerChoice=function(e){var t=s.generateId(r.parent.currentQuestion.answers);r.parent.currentQuestion.answers.push({id:t,answer:"",correct:!1}),e&&r.parent.setSVGAnswerCircle(r.parent.currentQuestion.answers.length-1,t),n.setTimeout(function(){var e=o.retrieveEditor("answer-htmlcontent-"+(r.parent.currentQuestion.answers.length-1)).scope;e.displayElements.text.trigger("focus"),e.$apply()},10)},r.setAnswerChoice=function(e){return s.convertAnswerChoice(r.parent.config,e)},r.updateCorrectAnswer=function(e){for(var t=0,n=r.parent.currentQuestion.answers.length;n>t;t++)r.parent.currentQuestion.answers[t].correct=r.parent.currentQuestion.answers[t]===e}}e.$inject=["$rootScope","$scope","$window","$log","utils","textAngularManager"];var t={restrict:"E",templateUrl:"app/components/editor-question-drag-and-drop/editor-question-drag-and-drop.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorQuestionDragAndDrop",e)}(),function(){"use strict";function e(){function e(e,t,n,i,s,o,r,a,l){var c=this;c.view=!1,c.overlay=!1,c.tool="",c.hovering=!1,c.dragging=!1,c.polygon=!1,c.loading=!1,c.progressSpinner=!1,c.config=e.config,c.questionTypeSelection={value:"",label:"Change Question Type"},c.questionTypeSwitcher=[{value:"",label:"Change Question Type"},{value:"multiple-choice",label:"Multiple Choice"},{value:"multiple-answer",label:"Multiple Answer"},{value:"true-false",label:"True/False"},{value:"drag-and-drop",label:"Drag and Drop"},{value:"image-hotspot",label:"Image Hotspot"},{value:"sequencing",label:"Sequencing"},{value:"fill-in-the-blank",label:"Fill in the Blank"}],c.init=function(){var e;if(!n.questionId&&!n.questionType)return void i.path("question/edit/"+c.config.questions[0].id);if(n.questionId)for(var t=0,o=c.config.questions.length;o>t;t++)parseInt(n.questionId,10)===c.config.questions[t].id&&(c.currentQuestion=c.config.questions[t],c.currentQuestionIdx=t);c.currentQuestion?c.questionType=c.currentQuestion.type:(e=r.generateId(c.config.questions),c.questionType=n.questionType||"multiple-choice",c.currentQuestionIdx=c.config.questions.length,c.currentQuestion={id:e,type:c.questionType,title:"",hint:"drag-and-drop"===c.questionType||"image-hotspot"===c.questionType?1:"",explanation:"",answers:[]},c.config.questions.push(c.currentQuestion),i.path("question/edit/"+e)),("drag-and-drop"===c.questionType||"image-hotspot"===c.questionType)&&s.setTimeout(function(){c.setupEvents()},0)},c.deleteAnswer=function(t){var n=c.currentQuestion.answers.indexOf(t);c.currentQuestion.answers.splice(n,1),t.correct&&(c.currentQuestion.answers[0].correct=!0),e.$broadcast("delete-answer",t)},c.changeQuestionType=function(e){var t=["multiple-choice","multiple-answer","sequencing","true-false","fill-in-the-blank"];if(c.currentQuestion.type!==e.value)if(c.changeToQuestionType=e.label,c.changeToQuestionValue=e.value,t.indexOf(c.currentQuestion.type)>=0)c.overlay=!0;else if("multiple-choice"===e.value&&"multiple-answer"===c.currentQuestion.type){for(var n=!1,i=0;i<c.currentQuestion.answers.length;i++){var s=c.currentQuestion.answers[i],o=s.correct;!n&&o?n=!0:s.correct=!1}c.currentQuestion.type=e.value,c.questionType=e.value,c.questionTypeSelection={value:"",label:"Change Question Type"}}else e.value&&("true-false"===c.currentQuestion.type&&(c.currentQuestion.answers=[]),c.currentQuestion.type=e.value,c.questionType=e.value,c.questionTypeSelection={value:"",label:"Change Question Type"})},c.pickImage=function(){a.pickImage(c.onFileUploadSuccess,c.onFileUploadProgress)},c.fileUpload=function(t){var n=t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files,i="id-"+Math.floor(4294967295*Math.random())+Math.floor(4294967295*Math.random());e.$apply(function(){c.loading=!0}),Array.prototype.forEach.call(n,function(e){a.onImageUpload(function(e){c.onFileUploadSuccess(e)},i),a.onImageProgress(function(e){c.onFileUploadProgress(e)},i),a.startImageUpload(e,i,!0)})},c.dragHover=function(e){e.stopPropagation(),e.preventDefault(),"dragover"===e.type?($(e.target).addClass("hovering"),$(".dragText").addClass("ready-text").text("Ready to Drop"),$(".upload-instructions .details").text("Drop your files at any time")):($(e.target).removeClass("hovering"),$(".dragText").removeClass("ready-text").text("Click to Upload Images"),$(".upload-instructions .details").text("or drag and drop files from your desktop"))},c.fileDrop=function(e){c.dragHover(e),c.fileUpload(e)},c.onFileUploadSuccess=function(t){l.debug("UPLOAD SUCCESS:"),l.debug(t),e.$apply(function(){t&&(c.currentQuestion.imgSrc=t,$("#drop-area").length&&($("#drop-area").html(""),c.setupEvents(),c.saveSVG())),c.loading=!1})},c.onFileUploadProgress=function(e){var t=100*e;l.debug("UPLOAD PROGRESS:"),l.debug(e),$(".load-progress").delay(1500).width(t+"%")},c.deleteImage=function(){c.currentQuestion.imgSrc=null},c.toggleHint=function(){c.currentQuestion.hint=!c.currentQuestion.hint},c.onSVGMouseDown=function(e){e.preventDefault(),e.stopPropagation(),$("#drop-menu").hide(),l.debug("Start Drag"),c.dragging=!0,c.dropArea=angular.element("#drop-area"),c.dropAreaOffset=c.dropArea.offset(),c.startX&&c.startY&&c.endX&&c.endY&&"polygon"===c.currentQuestion.tool&&c.svgEl("line",{"class":"real-line",x1:c.startX,y1:c.startY,x2:c.endX,y2:c.endY,stroke:"black",fill:"white","stroke-width":2},c.group),c.startX=e.clientX-c.dropAreaOffset.left,c.startY=e.clientY-c.dropAreaOffset.top,"rectangle"===c.currentQuestion.tool&&(c.group=c.svgEl("g"),c.svgEl("circle",{cx:c.startX,cy:c.startY,r:4,stroke:"black",fill:"white","stroke-width":2},c.group)),"polygon"===c.currentQuestion.tool&&(c.polygon?(c.points.push({x:c.startX,y:c.startY}),c.svgEl("circle",{cx:c.startX,cy:c.startY,r:5,fill:"white",stroke:"black","stroke-width":2},c.group)):(c.polygon=!0,c.originalX=c.startX,c.originalY=c.startY,c.group=c.svgEl("g"),c.points=[{x:c.originalX,y:c.originalY}],c.svgEl("circle",{"class":"origin-point",cx:c.originalX,cy:c.originalY,r:5,fill:"white",stroke:"black","stroke-width":2},c.group)))},c.onSVGMouseMove=function(e){if(e.preventDefault(),e.stopPropagation(),c.dragging&&"rectangle"===c.currentQuestion.tool){var t,n,i,s;l.debug("Mouse Move"),c.endX=e.clientX-c.dropAreaOffset.left,c.endY=e.clientY-c.dropAreaOffset.top,c.endX>c.startX?(t=c.startX,i=c.endX-c.startX):(t=c.endX,i=c.startX-c.endX),c.endY>c.startY?(n=c.startY,s=c.endY-c.startY):(n=c.endY,s=c.startY-c.endY),c.group.find("rect").remove(),c.group.find("circle").remove(),c.svgEl("rect",{x:t,y:n,width:i,height:s,fill:"none","fill-opacity":.5,stroke:"black","stroke-width":2},c.group),c.svgEl("circle",{cx:c.startX,cy:c.startY,r:4,stroke:"black",fill:"white","stroke-width":2},c.group)}c.polygon&&"polygon"===c.currentQuestion.tool&&(l.debug("Polygon Drawing"),c.endX=e.clientX-c.dropAreaOffset.left,c.endY=e.clientY-c.dropAreaOffset.top,c.group.find("line").not(".real-line").remove(),c.svgEl("line",{x1:c.startX,y1:c.startY,x2:c.endX,y2:c.endY,stroke:"black",fill:"white","stroke-width":2},c.group))},c.onSVGMouseUp=function(e){e.preventDefault(),e.stopPropagation(),c.dragging&&(l.debug("End Drag"),c.endX=e.clientX-c.dropAreaOffset.left,c.endY=e.clientY-c.dropAreaOffset.top,"rectangle"===c.currentQuestion.tool&&(c.startX===c.endX||c.startY===c.endY?c.group.remove():(c.group.find("circle").remove(),c.group.find("rect").attr("fill",c.config.scoreSettings.highlightColor.value),c.setupMenu(),c.saveSVG())),"polygon"===c.currentQuestion.tool&&c.points.length>1&&r.isInSVGElement(c.group.find("circle.origin-point"),c.endX,c.endY)&&(c.group.find("line").remove(),c.group.find("circle").remove(),c.polygon=!1,c.svgEl("polygon",{points:r.pointsObjectArrayToString(c.points),stroke:"black","fill-opacity":.5,fill:c.config.scoreSettings.highlightColor.value,"stroke-width":2},c.group),c.setupMenu(),c.saveSVG())),c.dragging=!1},c.setupMenu=function(){var e=c.group.get(0).getBBox(),t=e.x+e.width/2,n=e.y+e.height/2,i=c.group.find("polygon");if(i.length>0&&!r.isInPolygon({x:t,y:n},i)){var s=i.attr("points").trim().split(" "),o=s[0].split(",");t=o[0],n=o[1]}var a=c.svgEl("circle",{"class":"menu-circle",cx:t,cy:n,r:9,stroke:c.config.scoreSettings.highlightColor.value,fill:"white","stroke-width":1},c.group);c.svgEl("image",{"class":"menu-circle","xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjExcHgiIGhlaWdodD0iMTBweCIgdmlld0JveD0iMCAwIDExIDEwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzLjYuMSAoMjYzMTMpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkVkaXQgUGF0dGVybjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSIwMy1Bc3NpZ24tMDEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NzkuMDAwMDAwLCAtNjUwLjAwMDAwMCkiIGZpbGw9IiMwMDk5QjciPgogICAgICAgICAgICA8ZyBpZD0iUmVjdGFuZ2xlLTI3My0rLVBhdGgtMTU5LSstVHJpYW5nbGUtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc1LjAwMDAwMCwgNjQ2LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IkVkaXQtUGF0dGVybiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOS4wNzEwNjgsIDkuNzc4MTc1KSByb3RhdGUoNDUuMDAwMDAwKSB0cmFuc2xhdGUoLTkuMDcxMDY4LCAtOS43NzgxNzUpIHRyYW5zbGF0ZSg3LjA3MTA2OCwgMy43NzgxNzUpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMDAwMDAwLCAwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMC4zODkzMzMxNjMsMC4wMTczNjE2MDIxIEwzLjU5MDM0OTA4LDAuMDE3MzYxNjAyMSBMMy41OTAzNDkwOCw4LjU3Njc3OTg0IEwwLjM4OTMzMzE2Myw4LjU3Njc3OTg0IEwwLjM4OTMzMzE2MywwLjAxNzM2MTYwMjEgWiIgaWQ9IlJlY3RhbmdsZS00OSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iVHJpYW5nbGUtMyIgcG9pbnRzPSIxLjk4MTU1NzggOS4yNTk4MTY2IDMuNTYxMzA5MTUgMTEuOTY4OTM2OCAwLjQwMTgwNjQ1NCAxMS45Njg5MzY4ICI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",width:10,height:10,x:t-5,y:n-5},c.group),c.setupEvents(),c.toggleMenu(null,a)},c.toggleMenu=function(e,t){var n=$(t);c.currentGroup=n.closest("g"),n.is("circle.menu-circle")||(n=c.currentGroup.find("circle.menu-circle")),e&&(e.preventDefault(),e.stopPropagation()),s.setTimeout(function(){$("#drop-menu").css({display:"block",top:parseInt(n.attr("cy"),10)+"px",left:parseInt(n.attr("cx"),10)+"px"})},10)},c.setSVGAnswerCircle=function(e,t){var n,i=parseInt(c.currentGroup.find("circle.menu-circle").attr("cx"),10),s=parseInt(c.currentGroup.find("circle.menu-circle").attr("cy"),10);c.currentGroup.attr({"data-index":e,"data-id":t}),c.currentGroup.find("image.menu-circle").remove(),c.currentGroup.find("text").remove(),"n"===e?(n=c.svgEl("text",{"class":"menu-circle",x:i-5,y:s+5,fill:"#9B9B9B"},c.currentGroup),n.text("N")):"correct"===e?c.svgEl("image",{"class":"menu-circle","xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEycHgiIGhlaWdodD0iMTBweCIgdmlld0JveD0iMCAwIDEyIDEwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzLjcuMiAoMjgyNzYpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkNoZWNrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjAzLUFzc2lnbi0wMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUwMy4wMDAwMDAsIC03MTIuMDAwMDAwKSIgZmlsbD0iIzAwMDAwMCI+CiAgICAgICAgICAgIDxnIGlkPSJtdWx0aS1zZWFyY2gtdW5jaGVja2VkLSstQS0oc3RhcmJDcmV2YXNzZS1Qcm8tKy1EZWxldGUtRHJvcC1UYXJnZXQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4My4wMDAwMDAsIDY1NS4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJDaGVjayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAuMDAwMDAwLCA1Ny4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMy44LDkuNzg1NzE0MjkgTDAuMTMzMzMzMzMzLDUuOTI4NTcxNDMgQzAuMDY2NjY2NjY2Nyw1Ljg1NzE0Mjg2IDAuMDY2NjY2NjY2Nyw1LjcxNDI4NTcxIDAuMTMzMzMzMzMzLDUuNTcxNDI4NTcgTDEuMjY2NjY2NjcsNC4zNTcxNDI4NiBDMS4zMzMzMzMzMyw0LjI4NTcxNDI5IDEuNDY2NjY2NjcsNC4yODU3MTQyOSAxLjYsNC4zNTcxNDI4NiBMMy44NjY2NjY2Nyw2Ljc4NTcxNDI5IEMzLjkzMzMzMzMzLDYuODU3MTQyODYgNC4wNjY2NjY2Nyw2Ljg1NzE0Mjg2IDQuMiw2Ljc4NTcxNDI5IEwxMC40LDAuMTQyODU3MTQzIEMxMC40NjY2NjY3LDAuMDcxNDI4NTcxNCAxMC42LDAuMDcxNDI4NTcxNCAxMC43MzMzMzMzLDAuMTQyODU3MTQzIEwxMS44NjY2NjY3LDEuMzU3MTQyODYgQzExLjkzMzMzMzMsMS40Mjg1NzE0MyAxMS45MzMzMzMzLDEuNTcxNDI4NTcgMTEuODY2NjY2NywxLjcxNDI4NTcxIEw0LjEzMzMzMzMzLDkuNzg1NzE0MjkgQzQsOS45Mjg1NzE0MyAzLjg2NjY2NjY3LDkuOTI4NTcxNDMgMy44LDkuNzg1NzE0MjkgTDMuOCw5Ljc4NTcxNDI5IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",width:10,height:10,x:i-5,y:s-4},c.currentGroup):"incorrect"===e?c.svgEl("image",{"class":"menu-circle","xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEwcHgiIGhlaWdodD0iMTBweCIgdmlld0JveD0iMCAwIDEwIDEwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzLjcuMiAoMjgyNzYpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkNyb3NzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjAzLUFzc2lnbi0wMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUwMi4wMDAwMDAsIC03NDcuMDAwMDAwKSIgZmlsbD0iIzAwMDAwMCI+CiAgICAgICAgICAgIDxnIGlkPSJtdWx0aS1zZWFyY2gtdW5jaGVja2VkLSstQS0oc3RhcmJDcmV2YXNzZS1Qcm8tKy1EZWxldGUtRHJvcC1UYXJnZXQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4My4wMDAwMDAsIDY1NS4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJDcm9zcyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYuMDAwMDAwLCA4OS4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iUGFnZS0xIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Inpvb20tY29udHJvbC1wbHVzLWFjdGl2ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSByb3RhdGUoNDUuMDAwMDAwKSB0cmFuc2xhdGUoLTguMDAwMDAwLCAtOC4wMDAwMDApIHRyYW5zbGF0ZSgzLjAwMDAwMCwgMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJTaGFwZSIgcG9pbnRzPSIxMCA0IDYgNCA2IC0yLjAxNjE2NTAxZS0xMyA0IC0yLjAxNjE2NTAxZS0xMyA0IDQgLTIuMDE2MTY1MDFlLTEzIDQgLTIuMDE2MTY1MDFlLTEzIDYgNCA2IDQgMTAgNiAxMCA2IDYgMTAgNiI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",width:10,height:10,x:i-5,y:s-5},c.currentGroup):(n=c.svgEl("text",{"class":"menu-circle",x:i-3,y:s+4,fill:c.config.scoreSettings.highlightColor.value},c.currentGroup),n.text(o("convertAnswerChoice")(e,c.config))),c.setupEvents(),c.saveSVG()},c.deleteDropArea=function(){c.currentGroup.remove(),c.saveSVG()},c.selectTool=function(e){c.currentQuestion.tool=e===c.currentQuestion.tool?"":e,c.startX=null,c.startY=null,c.endX=null,c.endY=null,c.dragging=!1,c.polygon=!1},c.svgEl=function(e,t,n){var i=$(document.createElementNS("http://www.w3.org/2000/svg",e));return t&&i.attr(t),"image"===e&&(i.get(0).removeAttribute("xlink:href"),i.get(0).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t["xlink:href"])),i.appendTo(n?n:"#drop-area"),$("#drop-area").get(0).removeAttribute("xmlns:xlink"),$("#drop-area").get(0).setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),i},c.saveSVG=function(){var e=$("#drop-area"),t=e.width(),n=e.height();c.currentQuestion.SVGData=$("#drop-area").html(),c.currentQuestion.SVGWidth=t,c.currentQuestion.SVGHeight=n},c.setSVG=function(){c.currentQuestion.SVGData&&($("#drop-area").html(c.currentQuestion.SVGData),c.setupEvents())},c.orphanCleanUp=function(){var e=$("#drop-area").find("g");e.each(function(e,t){var n=$(t),i=n.find(".menu-circle");i.length<=0&&n.remove()}),c.startX=null,c.startY=null,c.endX=null,c.endY=null,c.dragging=!1,c.polygon=!1},c.moseUpHandler=function(e){var t=$(e.target);t.is(".trash-icon, .ui-sortable-handle")||c.onSVGMouseUp(e)},c.setupEvents=function(){var t=$("body"),n=$("#drop-area"),i=n.find(".menu-circle"),s=$(".placeholder-image");c.destroyEvents(),t.on("click",function(e){var t=$(e.target);$("#drop-menu").hide(),t.is("svg, g, rect, circle, line, polygon, text, image")||c.orphanCleanUp()}),s.on("dragover dragleave",c.dragHover),s.on("drop",c.fileDrop),i.on("mousedown mouseup mousemove",function(e){e.stopPropagation()}),i.on("click",function(e){c.toggleMenu(e,this)}),c.overlayEvent=e.$on("set-overlay",function(e,t){c.overlay=!0,c.overlayType=t})},c.destroyEvents=function(){var e=$("body"),t=$("#drop-area"),n=t.find(".menu-circle"),i=$(".placeholder-image");e.off("click"),i.off("dragover dragleave drop"),n.off("mousedown mouseup mousemove click"),c.overlayEvent&&c.overlayEvent()},t.$on("$destroy",function(){c.destroyEvents()}),c.view=!0}e.$inject=["$rootScope","$scope","$stateParams","$location","$window","$filter","utils","api","$log"];var t={restrict:"E",templateUrl:"app/components/editor-question/editor-question.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorQuestion",e)}(),function(){"use strict";function e(){function e(e){var t=this,n=e.$parent.vm;t.changeToQuestionType=n.changeToQuestionType,t.cancel=function(){n.overlay=!1},t.confirm=function(){n.currentQuestion.answers=[],n.currentQuestion.type=n.changeToQuestionValue,n.questionType=n.changeToQuestionValue,n.questionTypeSelection={value:"",label:"Change Question Type"},n.overlay=!1}}e.$inject=["$scope"];var t={restrict:"E",templateUrl:"app/components/editor-overlay/editor-overlay.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorOverlay",e)}(),function(){"use strict";function e(e){function t(t,n){var i=this;i.questionId=parseInt(n.questionId,10),i.config=e.config,i.sortableOptions={},i.goToQuestion=function(e){t.path("question/edit/"+e)},i.deleteQuestion=function(e,t){e.preventDefault(),e.stopPropagation(),$("ui-sortable-handle").trigger("dragstop");var n=i.config.questions.indexOf(t);i.config.questions.splice(n,1);var s=n-1,o=i.config.questions[s];if(o&&o.id){var r=o.id;i.goToQuestion(r)}i.config.scoreSettings.passingScore.value>i.config.questions.length&&(i.config.scoreSettings.passingScore.value=i.config.questions.length)},i.deleteEntryScreen=function(){i.config.entryScreen.title="",i.config.entryScreen.description=""}}t.$inject=["$location","$stateParams"];var n={restrict:"E",templateUrl:"app/components/editor-navigation/editor-navigation.html",scope:{},controller:t,controllerAs:"vm",bindToController:!0};return n}e.$inject=["$rootScope"],angular.module("inklingKnowledgeCheckEditor").directive("editorNavigation",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.config=e.config}e.$inject=["$rootScope"];var t={restrict:"E",templateUrl:"app/components/editor-entry-screen/editor-entry-screen.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("inklingKnowledgeCheckEditor").directive("editorEntryScreen",e)}(),function(){"use strict";function e(){var e={knowledgeCheckVersion:1,scoreSettings:{passingScore:{value:1},retrySetting:{id:3,value:"Retry Until Pass"},maxNumberOfRetries:{value:1},assessmentTitle:"",assessmentID:"",answerLabels:{id:1,label:"Alpha Lowercase",value:"a"},numberQuestions:{value:!0,label:"Yes"},startNumberingAt:{value:1},highlightColor:{id:1,value:"#017cb8","class":"blue",label:"Blue"}},answerLabels:[{id:1,label:"Alpha Lowercase",value:"a"},{id:2,label:"Alpha Uppercase",value:"A"},{id:3,label:"Numeric",value:"1"},{id:4,
label:"None",value:""}],entryScreen:{title:"",description:""},questions:[{id:1,type:"multiple-choice",title:"",hint:"",explanation:"",answers:[]}],viewerPages:{entryScreen:{button:"Get Started",summary:"Questions"},quiz:{questionsAnswered:"{} of {} Answered",button:"Submit",overview:"Questions Overview",hintText:"Stuck? ",hintLinkText:"Show me a hint",hintHideText:"Hide hints",questionNumbering:"Question {}",multipleAnswerInstruction:"SELECT ALL THAT APPLY",oneAnswerInstruction:"SELECT ONE",dragDropInstructionText:"Drag each item to its correct location.",sequencingInstruction:"Arrange options in the correct sequence.",fillInTheBlankInstruction:"Fill in the blank."},limitedRetries:{correctAnswers:"You answered {} of {} correctly.",successPassSummary:"To pass, you need to get {} correct.",failPassSummary:"To pass, you need to get {} correct.",attemptsRemaining:"You have {} attempts remaining.",extraMessage:"Your highest score will be submitted",buttonSecondary:"Take Again",buttonPrimary:"Submit My Score"},scoreResults:{scoreSubmission:"Your score has been submitted.",scoreSummary:"You answered {} of {} correctly.",successMessage:" Congratulations!",passSummary:"To pass, you need to get {} correct."}}};this.$get=function(){return e}}angular.module("inklingKnowledgeCheckUtilities").provider("defaultConfig",e)}(),function(){"use strict";function e(e,t){function n(e){for(var t=$.extend(!0,{},e),n=t.questions,o=0,r=0;r<n.length;r++){var a=n[r],l=a.id,c=i(l);o+=s(c,a)}return{score:o,questions:n}}function i(e){for(var t=a.config.questions,n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}}function s(e,n){var i,s,o,r,a,l,c,u,d,g,p,m,v,h,f=!0,w=e.answers,b=n.answerIds;switch(e.type){case"drag-and-drop":for(o=n.answerCoordinates,r=$("#svg-area"),a=e.SVGWidth,l=e.SVGHeight,r.empty().width(a).height(l),r[0].setAttribute("viewBox","0 0 "+a+" "+l),t.copyToSVGElement(r[0],e.SVGData),c=r.find("rect"),u=r.find("polygon"),i=0;i<o.length;i++){for(m=o[i],s=0;s<c.length;s++)d=$(c[s]),p=d.closest("g"),t.isInRectangle(m,d)&&p.data("id")===m.id&&(m.correct=!0);for(s=0;s<u.length;s++)g=$(u[s]),p=g.closest("g"),t.isInPolygon(m,g)&&p.data("id")===m.id&&(m.correct=!0)}for(i=0;i<o.length;i++)o[i].correct===!1&&(f=!1);break;case"image-hotspot":for(o=n.answerCoordinates,r=$("#svg-area"),a=e.SVGWidth,l=e.SVGHeight,r.empty().width(a).height(l),r[0].setAttribute("viewBox","0 0 "+a+" "+l),t.copyToSVGElement(r[0],e.SVGData),c=r.find('[data-index="correct"] rect'),u=r.find('[data-index="correct"] polygon'),i=0;i<o.length;i++){for(m=o[i],s=0;s<c.length;s++)d=$(c[s]),t.isInRectangle(m,d)&&(m.correct=!0);for(s=0;s<u.length;s++)g=$(u[s]),t.isInPolygon(m,g)&&(m.correct=!0)}for(i=0;i<o.length;i++)o[i].correct===!1&&(f=!1);break;case"fill-in-the-blank":v=e.answer.replace(/<\/?[^>]+>/gi,"").trim().toLowerCase(),h=n.answers[0].replace(/<\/?[^>]+>/gi,"").trim().toLowerCase(),f=v===h;break;case"sequencing":for(i=0;i<w.length;i++)if(w[i].id!==n.answerIds[i]){f=!1;break}break;default:w.forEach(function(e){void 0!==e.correct&&b.forEach(function(t){e.id!==t||e.correct||(f=!1)})})}return n.correct=f,f?1:0}function o(e){return{assessment:e}}function r(e,t){var n=e.score>=a.config.scoreSettings.passingScore.value?"passed":"failed",i=(e.questions||[]).length,s=null;i>0&&(s=+(e.score/i).toFixed(2));var o={cmi:{completion_status:t,success_status:n,score:{raw:e.score,min:0,max:i,scaled:s}},additionalInfo:{CPNT_TYP_ID:"INK",CPNT_ID:a.config.scoreSettings.assessmentID,CPNT_NAME:a.config.scoreSettings.assessmentTitle,SCORES:[]}};return a.config.scoreSettings.sendCourseCompletion&&(o.additionalInfo.IS_COURSE_COMPLETION=!0),e.questions.forEach(function(e){o.additionalInfo.SCORES.push(e.correct?1:0)},this),o}var a=this;a.config=e.config;var l={score:n,makeCompletionEventPayload:o,makePayload:r};return l}e.$inject=["$rootScope","utils"],angular.module("inklingKnowledgeCheckUtilities").factory("assessment",e)}(),function(){"use strict";function e(e,t,n,i,s){function o(){var s=i.defer();return"localhost"!==t.host()?inklingAPIParams(n).getJSON(function(t,n){e.debug("GET CONFIGURATION:"),e.debug(n),s.resolve(n)}):(e.debug("GET CONFIGURATION:"),s.resolve(A.get("config"))),s.promise}function r(i){"localhost"!==t.host()?n.parent.postMessage({type:"configuration",method:"file",payload:i},"*"):A.put("config",i),e.debug("SET CONFIGURATION:"),e.debug(i)}function a(i){"localhost"!==t.host()&&inklingAPIView(n).setHeight(i),e.debug("SET HEIGHT:"),e.debug(i)}function l(){return e.debug("GET AVAILABILITY:"),e.debug(q),q}function c(){var s=i.defer();return"localhost"!==t.host()&&inklingAPIAvailability(n).onAvailabilityChange(function(e){S.onAvailabilityChange(s,e)}),e.debug("SETUP AVAILABILITY"),s.promise}function u(t,n){q=n,e.debug("AVAILABILITY CHANGE:"),e.debug(n),t.resolve()}function d(i,s){"localhost"!==t.host()&&inklingAPIAsset(n).pickImage(i,s),e.debug("UPLOAD IMAGE:")}function g(i,s){"localhost"!==t.host()&&inklingAPIAsset(n).onImageUpload(i,s),e.debug("UPLOAD IMAGE:")}function p(i,s){"localhost"!==t.host()&&inklingAPIAsset(n).onImageProgress(i,s),e.debug("UPLOAD PROGRESS:")}function m(i,s,o){"localhost"!==t.host()&&inklingAPIAsset(n).startImageUpload(i,s,o),e.debug("UPLOAD PROGRESS:")}function v(){var s=i.defer();if("localhost"!==t.host()&&C)inklingAPIData(n).onRestore(function(e){S.onRestore(s,e)});else{var o=A.get("quizData");s.resolve(o)}return e.debug("SETUP DATA"),s.promise}function h(n,i){"localhost"!==t.host()&&C&&(I=i?JSON.parse(i.data):"",n.resolve(I)),e.debug("DATA CHANGE:"),e.debug(I)}function f(i){var s;"localhost"!==t.host()&&C?(s={data:JSON.stringify(i)},inklingAPIData(n).save(s)):A.put("quizData",i),e.debug("SET DATA:"),e.debug(i)}function w(t){inklingAPIAnalytics(n).sendAssessmentData(t),e.debug("SENT ASSESSMENT DATA:"),e.debug(t)}function b(t){inklingAPIAnalytics(n).sendCourseCompletion(t),e.debug("SENT COURSE COMPLETION:"),e.debug(t)}function y(e){C=e}var A,q,I,C,S={getConfiguration:o,setConfiguration:r,setHeight:a,setupAvailability:c,onAvailabilityChange:u,getAvailability:l,pickImage:d,onImageUpload:g,onImageProgress:p,startImageUpload:m,setupData:v,onRestore:h,setData:f,sendAssessmentData:w,sendCourseCompletion:b,setDataApiAvailable:y};return C=!0,s.get("apiCache")||(A=new s("apiCache")),S}e.$inject=["$log","$location","$window","$q","CacheFactory"],angular.module("inklingKnowledgeCheckUtilities").factory("api",e)}(),function(){"use strict";function e(e,t,n,i,s,o){function r(){if(!e.setupDone){e.quizData.quizVersion<0?e.quizData.quizVersion=e.config.knowledgeCheckVersion:e.quizData.quizVersion!==e.config.knowledgeCheckVersion?(e.quizData=a,e.quizData.quizVersion=e.config.knowledgeCheckVersion,i.setData(e.quizData)):"Test Yourself"===e.config.scoreSettings.retrySetting.value&&(e.quizData=a,e.quizData.quizVersion=e.config.knowledgeCheckVersion,i.setData(e.quizData)),e.$watch("quizData",function(t,n){t!==n&&i.setData(e.quizData)},!0),e.isOnline=navigator.onLine,s.addEventListener("offline",function(){e.$apply(function(){e.isOnline=!1})},!1),s.addEventListener("online",function(){e.$apply(function(){e.isOnline=!0})},!1),l();var o=t.path()||"/",r="quiz",c=e.config.entryScreen.title||e.config.entryScreen.description,u=e.quizData.currentAssessment.questions.length;"/"===o&&!u&&c&&(r="entry-screen"),n.go(r,{},{location:!e.embedded})}}var a={currentAssessment:{questions:[]},submittedAssessments:[],resultsSubmitted:!1,currentQuestionIdx:0,quizVersion:-1};e.dataSet=!1,e.configSet=!1,e.setupDone=!1,e.embedded=window!==window.top;var l=e.$watchGroup(["dataSet","configSet"],function(e){var t=e[0],n=e[1];t&&n&&r()});i.setupData().then(function(t){if(t){var n=t;e.quizData=n}else e.quizData=a;i.setData(e.quizData),e.dataSet=!0}),i.getConfiguration().then(function(t){t&&(!t.answerLabels&&o.answerLabels&&(t.answerLabels=o.answerLabels),t.scoreSettings||(t.scoreSettings=o.scoreSettings),!t.scoreSettings.highlightColor&&o.scoreSettings&&(t.scoreSettings.highlightColor=o.scoreSettings.highlightColor)),e.config=t;var n=$.isEmptyObject(e.config);if(n){var i=o;i.viewerPages.quiz.instructions="";var s=i.questions[0];s.title="<strong>Edit this widget and replace this question with your own content.</strong>",s.answers.push({id:1,answer:"<strong>The first answer.</strong>",correct:!0}),s.answers.push({id:2,answer:"<strong>The second answer.</strong>",correct:!1}),e.config=i}e.config.viewerPages=o.viewerPages,e.configSet=!0}),i.setupAvailability().then(function(){var t=i.getAvailability();t.data?i.setDataApiAvailable(!0):(i.setDataApiAvailable(!1),i.setupData().then(function(){e.quizData=a,i.setData(e.quizData),e.dataSet=!0}))})}function t(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPad/i)||e.match(/iPhone/i)||e.match(/iPod/i)?"iOS":e.match(/Android/i)?"Android":"unknown"}e.$inject=["$rootScope","$location","$state","api","$window","defaultConfig"],angular.module("inklingKnowledgeCheck").run(e);var n=$(".icon-loading");switch(t()){case"iOS":n.addClass("ios");break;case"Android":n.addClass("android");break;case"unknown":n.addClass("default");break;default:n.addClass("default")}}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",views:{main:{template:""}}}).state("quiz",{url:"/quiz",views:{main:{template:"<viewer-quiz></viewer-quiz>"}}}).state("limited-retries",{url:"/limited-retries",views:{main:{template:"<viewer-limited-retries></viewer-limited-retries>"}}}).state("score-results",{url:"/score-results",views:{main:{template:"<viewer-score-results></viewer-score-results>"}}}).state("entry-screen",{url:"/entry-screen",views:{main:{template:"<viewer-entry-screen></viewer-entry-screen>"}}}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("inklingKnowledgeCheck").config(e)}(),function(){"use strict";angular.module("inklingKnowledgeCheck").constant("moment",moment)}(),function(){"use strict";function e(e,t){e.debugEnabled(!1),angular.extend(t.defaults,{maxAge:9e5,storageMode:"localStorage"})}e.$inject=["$logProvider","CacheFactoryProvider"],angular.module("inklingKnowledgeCheck").config(e)}(),function(){"use strict";function e(e,t,n,i,s){var o;t.$on("$stateChangeStart",function(e,i,s,o){var r,a,l;if("/question/edit/:questionId"===o.url){r=parseInt(n.questionId,10);for(var c=0,u=t.config.questions.length;u>c;c++)r===t.config.questions[c].id&&(a=t.config.questions[c]);if(!a)return;("drag-and-drop"===a.type||"image-hotspot"===a.type)&&(a.imgSrc?a.SVGData&&"drag-and-drop"===a.type?(l=$("#drop-area"),l.find("g:not([data-index])").length>0&&(t.$broadcast("set-overlay","missing-drag-item"),e.preventDefault(),$(document).trigger("mouseup"))):a.SVGData&&"image-hotspot"===a.type&&(l=$("#drop-area"),l.find("g:not([data-index])").length>0&&(t.$broadcast("set-overlay","undefined-item"),e.preventDefault(),$(document).trigger("mouseup"))):(t.$broadcast("set-overlay","no-image"),e.preventDefault(),$(document).trigger("mouseup")))}}),i.getConfiguration().then(function(e){o=e,e&&(!e.answerLabels&&s.answerLabels&&(e.answerLabels=s.answerLabels),e.scoreSettings||(e.scoreSettings=s.scoreSettings),!e.scoreSettings.highlightColor&&s.scoreSettings&&(e.scoreSettings.highlightColor=s.scoreSettings.highlightColor)),!o||_.isEmpty(o)?(t.config=s,i.setConfiguration(t.config)):t.config=o,t.$watch("config",function(e,n){e!==n&&e.knowledgeCheckVersion===n.knowledgeCheckVersion&&(t.config.knowledgeCheckVersion++,i.setConfiguration(t.config))},!0)})}e.$inject=["$log","$rootScope","$stateParams","api","defaultConfig"],angular.module("inklingKnowledgeCheckEditor").run(e)}(),function(){"use strict";function e(e,t){e.state("edit-question",{url:"/question/edit/:questionId",views:{main:{template:"<editor-navigation></editor-navigation>"},workspace:{template:"<editor-question></editor-question>"}}}).state("question",{url:"/question/:questionType",views:{main:{template:"<editor-navigation></editor-navigation>"},workspace:{template:"<editor-question></editor-question>"}}}).state("first-question",{url:"/question",views:{main:{template:"<editor-navigation></editor-navigation>"},workspace:{template:"<editor-question></editor-question>"}}}).state("scores-settings",{url:"/scores-settings",views:{main:{template:"<editor-navigation></editor-navigation>"},workspace:{template:"<editor-score-settings></editor-score-settings>"}}}).state("entry-screen",{url:"/entry-screen",views:{main:{template:"<editor-navigation></editor-navigation>"},workspace:{template:"<editor-entry-screen></editor-entry-screen>"}}}),t.otherwise("/question")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("inklingKnowledgeCheckEditor").config(e)}(),function(){"use strict";angular.module("inklingKnowledgeCheckEditor").constant("moment",moment)}(),function(){"use strict";function e(e,t,n){t.debugEnabled(!1),angular.extend(n.defaults,{maxAge:9e5,storageMode:"localStorage"}),e.decorator("taOptions",["$delegate","taRegisterTool",function(e,t){return e.forceTextAngularSanitize=!1,e.keyMappings=[],t("superscript",{iconclass:"ta-icon ta-icon-superscript",action:function(){return this.$editor().wrapSelection("superscript",null)},activeState:function(){return this.$editor().queryCommandState("superscript")}}),t("subscript",{iconclass:"ta-icon ta-icon-subscript",action:function(){return this.$editor().wrapSelection("subscript",null)},activeState:function(){return this.$editor().queryCommandState("subscript")}}),e.toolbar=[["bold","italics","underline","superscript","subscript"],["ol","ul"]],e.classes={focussed:"focussed",toolbar:"ta-btn-toolbar",toolbarGroup:"ta-btn-group",toolbarButton:"ta-btn ta-btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},e}]),e.decorator("taTools",["$delegate",function(e){return e.bold.iconclass="ta-icon ta-icon-bold",e.italics.iconclass="ta-icon ta-icon-italics",e.underline.iconclass="ta-icon ta-icon-underline",e.ol.iconclass="ta-icon ta-icon-ol",e.ul.iconclass="ta-icon ta-icon-ul",e}])}e.$inject=["$provide","$logProvider","CacheFactoryProvider"],angular.module("inklingKnowledgeCheckEditor").config(e)}(),angular.module("inklingKnowledgeCheckUtilities").run(["$templateCache",function(e){e.put("app/components/editor-entry-screen/editor-entry-screen.html",'<div class="workspace"><div class="wrapper"><form><h3>Entry Screen</h3><p>Optional screen shown before users begin the assessment</p><div><label>Title</label> <input ng-model="vm.config.entryScreen.title" type="text" placeholder="Enter Title"></div><div><label>Description</label> <textarea ng-model="vm.config.entryScreen.description" placeholder="Enter Description"></textarea></div><div><label>Preview</label><div id="preview-pane"><h1 ng-if="vm.config.entryScreen.title">{{vm.config.entryScreen.title}}</h1><p ng-if="vm.config.entryScreen.description">{{vm.config.entryScreen.description}}</p><a class="button-entry" href="">Get Started</a><div class="summary">{{vm.config.questions.length}} Questions</div></div></div></form></div></div>'),e.put("app/components/editor-navigation/add-question-tooltip.html",'<ul><li><a href="#/question/multiple-choice">Multiple Choice</a></li><li><a href="#/question/multiple-answer">Multiple Answer</a></li><li><a href="#/question/true-false">True / False</a></li><li><a href="#/question/drag-and-drop">Drag and Drop</a></li><li><a href="#/question/image-hotspot">Image Hotspot</a></li><li><a href="#/question/sequencing">Sequencing</a></li><li><a href="#/question/fill-in-the-blank">Fill in the Blank</a></li></ul>'),e.put("app/components/editor-navigation/editor-navigation.html",'<aside class="panel"><div class="panel-section"><a class="pull-right" ui-sref="scores-settings">Edit</a><h3>Score &amp; Settings</h3><ul class="panel-scores-settings"><li>Passing Score: <strong>{{vm.config.scoreSettings.passingScore.value / vm.config.questions.length * 100 | number: 2 | number}}% <span class="normal">({{vm.config.scoreSettings.passingScore.value}} of {{vm.config.questions.length}} Correct)</span></strong></li><li>Retry Setting: <strong>{{vm.config.scoreSettings.retrySetting.value}}</strong></li></ul></div><div class="panel-section"><a class="pull-right" ui-sref="entry-screen" ng-if="!vm.config.entryScreen.title && !vm.config.entryScreen.description">Add Entry Screen</a><h3>Questions</h3><a class="entry-screen-link" ng-if="vm.config.entryScreen.title || vm.config.entryScreen.description" ui-sref-active="active" ui-sref="entry-screen"><i class="icon-trash" ng-click="vm.deleteEntryScreen()"></i> Entry Screen</a><ul class="panel-questions" ng-model="vm.config.questions" ui-sortable="vm.sortableOptions"><li ng-repeat="question in vm.config.questions track by $index" ng-class="{\'no-num\': !vm.config.scoreSettings.numberQuestions.value, \'active\' : vm.questionId === question.id}" ng-click="vm.goToQuestion(question.id)"><i class="icon-trash" ng-class="{\'white\': vm.questionId === question.id}" ng-if="vm.config.questions.length > 1" ng-click="vm.deleteQuestion($event, question)"></i> <span ng-if="vm.config.scoreSettings.numberQuestions.value" class="num">{{$index + vm.config.scoreSettings.startNumberingAt.value}}</span><div class="rendered-html" ng-if="question.startTitle && question.type === \'fill-in-the-blank\'" ng-bind-html="question.startTitle"></div><span class="fill-answerdash" ng-if="question.type === \'fill-in-the-blank\' && (question.startTitle || question.endTitle)">__________</span><div class="rendered-html" ng-if="question.endTitle && question.type === \'fill-in-the-blank\'" ng-bind-html="question.endTitle"></div><div class="rendered-html" ng-if="question.title && question.type !== \'fill-in-the-blank\'" ng-bind-html="question.title"></div><p ng-if="(!question.title && question.type !== \'fill-in-the-blank\') || (question.type === \'fill-in-the-blank\' && (!question.startTitle && !question.endTitle))">Edit question text</p></li></ul><a tooltips="" tooltip-class="hide-title add-question" tooltip-side="bottom" tooltip-show-trigger="click" tooltip-hide-trigger="click" tooltip-hide-target="element" tooltip-title="Add Question" tooltip-view="app/components/editor-navigation/add-question-tooltip.html" ng-click="addQuestionToggle = !addQuestionToggle" ng-class="{\'active\': addQuestionToggle}" ng-if="vm.config.questions.length < 30" class="add-button" href="">Add Question</a></div></aside>'),e.put("app/components/editor-overlay/editor-overlay.html",'<div class="modal"><h1>Warning: Switching this question type to {{vm.changeToQuestionType}} will delete your answer choices!</h1><div class="buttons"><a class="modal-button" href="" ng-click="vm.cancel()">Cancel</a> <a class="modal-button" href="" ng-click="vm.confirm()">Delete answers and switch to {{vm.changeToQuestionType}}</a></div></div><div class="modal" ng-if="vm.parent.overlayType === \'no-image\'"><h1>You must add an image.</h1><div class="buttons"><a class="modal-button" href="" ng-click="vm.cancel()">OK</a></div></div><div class="modal" ng-if="vm.parent.overlayType === \'missing-drag-item\'"><h1>One or more drag areas are missing an associated drag item.</h1><div class="buttons"><a class="modal-button" href="" ng-click="vm.cancel()">OK</a></div></div><div class="modal" ng-if="vm.parent.overlayType === \'undefined-item\'"><h1>One or more areas are undefined.</h1><div class="buttons"><a class="modal-button" href="" ng-click="vm.cancel()">OK</a></div></div><div class="modal" ng-if="vm.parent.overlayType === \'drag-area-overlap\'"><h1>Drag areas cannot overlap.</h1><div class="buttons"><a class="modal-button" href="" ng-click="vm.cancel()">OK</a></div></div>'),e.put("app/components/editor-question/editor-question.html",'<div class="workspace" ng-init="vm.init()" ng-if="vm.view"><div class="wrapper" ng-switch="" on="vm.questionType"><editor-question-multiple-choice ng-switch-when="multiple-choice"></editor-question-multiple-choice><editor-question-multiple-answer ng-switch-when="multiple-answer"></editor-question-multiple-answer><editor-question-true-false ng-switch-when="true-false"></editor-question-true-false><editor-question-drag-and-drop ng-switch-when="drag-and-drop"></editor-question-drag-and-drop><editor-question-image-hotspot ng-switch-when="image-hotspot"></editor-question-image-hotspot><editor-question-sequencing ng-switch-when="sequencing"></editor-question-sequencing><editor-question-fill-in-the-blank ng-switch-when="fill-in-the-blank"></editor-question-fill-in-the-blank></div></div><editor-overlay ng-if="vm.overlay"></editor-overlay>'),e.put("app/components/editor-question-drag-and-drop/editor-question-drag-and-drop.html",'<div ng-init="vm.init()"><form ng-if="vm.view"><header><h2>Drag and Drop</h2><ui-select theme="select2" ng-model="vm.parent.questionTypeSelection" search-enabled="false" on-select="vm.parent.changeQuestionType($item)"><ui-select-match>Change Question Type</ui-select-match><ui-select-choices repeat="type in vm.parent.questionTypeSwitcher"><div class="question-choice"><div class="icon-check" ng-class="{hidden: vm.questionType !== type.label}"></div>{{type.label}}</div></ui-select-choices></ui-select></header><fieldset><div class="add-image" tooltips="" tooltip-title="Add Image" tooltip-side="right" ng-class="{\'disabled\': vm.parent.currentQuestion.imgSrc}" ng-click="vm.parent.pickImage()"></div><div class="question-wrapper"><text-angular-toolbar name="toolbar"></text-angular-toolbar><div class="question"><div ng-if="vm.parent.config.scoreSettings.numberQuestions.value" class="question-num">{{vm.parent.currentQuestionIdx + vm.parent.config.scoreSettings.startNumberingAt.value}}</div><div class="question-content"><text-angular name="htmlcontent1" ng-model="vm.parent.currentQuestion.title" ta-target-toolbars="toolbar" class="ta-large ta-rendered-html" placeholder="Edit question text"></text-angular><hr><div class="question-meta"><label>Allow Reader To View Hint</label><div class="toggle" ng-click="vm.parent.toggleHint()" ng-class="{\'on\': vm.parent.currentQuestion.hint}"><span class="toggle-button"></span> <span ng-if="vm.parent.currentQuestion.hint">On</span> <span ng-if="!vm.parent.currentQuestion.hint">Off</span></div></div><div class="question-meta"><label>Explanation</label><text-angular name="htmlcontent3" ng-model="vm.parent.currentQuestion.explanation" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add explanation to be displayed on score results page (optional)"></text-angular></div></div></div><div class="image"><span ng-if="vm.parent.loading" class="load-container"><span class="load-progress"></span></span><div ng-if="vm.parent.currentQuestion.imgSrc && !vm.parent.progressSpinner"><div class="swap-image" tooltips="" tooltip-title="Swap Image" tooltip-side="right" ng-click="vm.parent.pickImage()"></div><i class="delete-image" ng-click="vm.parent.deleteImage()" tooltips="" tooltip-title="Delete Image" tooltip-side="right"></i> <i class="rectangle-image" ng-class="{\'active\': vm.parent.currentQuestion.tool === \'rectangle\'}" ng-click="vm.parent.selectTool(\'rectangle\')" tooltips="" tooltip-title="Draw Rectangle Drop Target" tooltip-side="right"></i> <i class="polygon-image" ng-class="{\'active\': vm.parent.currentQuestion.tool === \'polygon\'}" ng-click="vm.parent.selectTool(\'polygon\')" tooltips="" tooltip-title="Draw Polygon Drop Target" tooltip-side="right"></i></div><h3>Image &amp; Drop Areas <span>Define drop areas with the right side drawing tools</span></h3><div class="placeholder-image" ng-show="!vm.parent.currentQuestion.imgSrc" ng-click="vm.parent.pickImage()"><div class="upload-instructions"><div id="upload-image-icon"></div><span class="dragText">Click to Upload Images</span><div class="details">or drag and drop files from your desktop</div></div></div><div class="img-wrapper" ng-show="vm.parent.currentQuestion.imgSrc && !vm.parent.progressSpinner"><img ng-src="{{vm.parent.currentQuestion.imgSrc}}"><svg id="drop-area" ng-mousedown="vm.parent.onSVGMouseDown($event)" ng-mouseup="vm.parent.onSVGMouseUp($event)" ng-mousemove="vm.parent.onSVGMouseMove($event)" ng-class="{\'crosshair\' : vm.parent.currentQuestion.tool}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg><div id="drop-menu" class="{{vm.parent.config.scoreSettings.highlightColor.class}}"><h2>Associate this area with:</h2><ul><li ng-repeat="answer in vm.parent.currentQuestion.answers track by $index" ng-click="vm.parent.setSVGAnswerCircle($index, answer.id)"><div class="answer-wrapper"><div class="answer-choice">{{$index | convertAnswerChoice: vm.parent.config}}</div><div ng-show="answer.answer | stripHTML">{{answer.answer | stripHTML}}</div></div></li><li class="no-association" ng-click="vm.parent.setSVGAnswerCircle(\'n\')"><div class="answer-wrapper"><div>No Association</div></div></li></ul><ul><li><div ng-click="vm.parent.deleteDropArea()">Delete Drop Area</div></li><li ng-if="vm.parent.currentQuestion.answers.length < 8" ng-click="vm.addAnswerChoice(true)"><div>Add New Drag Item</div></li></ul></div></div></div><h3>Drag Items <span>Associate each item with at least one drop area</span></h3><ul class="answers" ui-sortable="vm.sortableOptions" ng-model="vm.parent.currentQuestion.answers"><li ng-repeat="answer in vm.parent.currentQuestion.answers track by $index" ng-class="{\'no-label\': vm.parent.config.scoreSettings.answerLabels.id === 4}" data-id="{{answer.id}}"><text-angular-toolbar name="{{\'answer-toolbar-\' + $index}}"></text-angular-toolbar><div class="answer-wrapper"><i class="icon-trash" ng-if="vm.parent.currentQuestion.answers.length > 1" ng-click="vm.parent.deleteAnswer(answer)"></i><div class="answer-choice">{{$index | convertAnswerChoice: vm.parent.config}}</div><text-angular name="{{\'answer-htmlcontent-\' + $index}}" ng-model="answer.answer" ta-target-toolbars="{{\'answer-toolbar-\' + $index}}" class="ta-medium ta-rendered-html" placeholder="Edit drag item text"></text-angular></div></li></ul><a class="add-button" href="" ng-if="vm.parent.currentQuestion.answers.length < 6" ng-click="vm.addAnswerChoice()">Add Drag Item</a></div></fieldset></form></div>'),e.put("app/components/editor-question-fill-in-the-blank/editor-question-fill-in-the-blank.html",'<div ng-init="vm.init()"><form ng-if="vm.view"><header><h2>Fill in the Blank</h2><ui-select theme="select2" ng-model="vm.questionTypeSelection" search-enabled="false" on-select="vm.changeQuestionType($item)"><ui-select-match>Change Question Type</ui-select-match><ui-select-choices repeat="type in vm.questionTypeSwitcher"><div class="question-choice"><div class="icon-check" ng-class="{hidden: vm.questionType !== type.label}"></div>{{type.label}}</div></ui-select-choices></ui-select></header><fieldset><div class="question-wrapper"><text-angular-toolbar name="toolbar" class="ta-toolbar"></text-angular-toolbar><div class="question"><div ng-if="vm.config.scoreSettings.numberQuestions.value" class="question-num">{{vm.currentQuestionIdx + vm.config.scoreSettings.startNumberingAt.value}}</div><div class="question-content"><div class="question-answerfill"><text-angular name="questionFirstPart" id="question-first-part" ta-target-toolbars="toolbar" class="ta-large ta-rendered-html question-part question-prefix" placeholder="Edit question text" ng-change="vm.changePrefix()" ng-init="vm.changePrefix()" ng-model="vm.currentQuestion.startTitle" ng-keydown="vm.filterKeyCode($event)"><p>The quick brown fox</p></text-angular><text-angular name="answerField" id="answer-field" ta-target-toolbars="\'\'" class="ta-large ta-rendered-html answer-field" ng-model="vm.currentQuestion.answer" ta-maxlength="80" placeholder="Enter the Answer" ng-change="vm.changePrefix()" ng-keydown="vm.filterKeyCode($event)"><p>jumps</p></text-angular><text-angular name="questionEndPart" ta-target-toolbars="toolbar" id="question-end-part" class="ta-large hidden ta-rendered-html question-part question-suffix" placeholder="Edit question text" ng-change="vm.changePrefix()" ng-model="vm.currentQuestion.endTitle" ng-keydown="vm.filterKeyCode($event)"><p>over the lazy dog.</p></text-angular></div><hr><div class="question-meta"><label>Hint</label><text-angular name="hintArea" ng-model="vm.currentQuestion.hint" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add hint (optional)"></text-angular></div></div></div></div></fieldset></form></div>'),e.put("app/components/editor-question-image-hotspot/editor-question-image-hotspot.html",'<div ng-init="vm.init()"><form ng-if="vm.view"><header><h2>Image Hotspot</h2><ui-select theme="select2" ng-model="vm.parent.questionTypeSelection" search-enabled="false" on-select="vm.parent.changeQuestionType($item)"><ui-select-match>Change Question Type</ui-select-match><ui-select-choices repeat="type in vm.parent.questionTypeSwitcher"><div class="question-choice"><div class="icon-check" ng-class="{hidden: vm.questionType !== type.label}"></div>{{type.label}}</div></ui-select-choices></ui-select></header><fieldset><div class="add-image" tooltips="" tooltip-title="Add Image" tooltip-side="right" ng-class="{\'disabled\': vm.parent.currentQuestion.imgSrc}" ng-click="vm.parent.pickImage()"></div><div class="question-wrapper"><text-angular-toolbar name="toolbar"></text-angular-toolbar><div class="question"><div ng-if="vm.parent.config.scoreSettings.numberQuestions.value" class="question-num">{{vm.parent.currentQuestionIdx + vm.parent.config.scoreSettings.startNumberingAt.value}}</div><div class="question-content"><text-angular name="htmlcontent1" ng-model="vm.parent.currentQuestion.title" ta-target-toolbars="toolbar" class="ta-large ta-rendered-html" placeholder="Edit question text"></text-angular><hr><div class="question-meta"><label>Allow Reader To View Hint</label><div class="toggle" ng-click="vm.parent.toggleHint()" ng-class="{\'on\': vm.parent.currentQuestion.hint}"><span class="toggle-button"></span> <span ng-if="vm.parent.currentQuestion.hint">On</span> <span ng-if="!vm.parent.currentQuestion.hint">Off</span></div></div><div class="question-meta"><label>Explanation</label><text-angular name="htmlcontent3" ng-model="vm.parent.currentQuestion.explanation" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add explanation to be displayed on score results page (optional)"></text-angular></div></div></div><div class="image"><span ng-if="vm.parent.loading" class="load-container"><span class="load-progress"></span></span><div ng-if="vm.parent.currentQuestion.imgSrc && !vm.parent.progressSpinner"><div class="swap-image" tooltips="" tooltip-title="Swap Image" tooltip-side="right" ng-click="vm.parent.pickImage()"></div><i class="delete-image" ng-click="vm.parent.deleteImage()" tooltips="" tooltip-title="Delete Image" tooltip-side="right"></i> <i class="rectangle-image" ng-class="{\'active\': vm.parent.currentQuestion.tool === \'rectangle\'}" ng-click="vm.parent.selectTool(\'rectangle\')" tooltips="" tooltip-title="Draw Rectangle Drop Target" tooltip-side="right"></i> <i class="polygon-image" ng-class="{\'active\': vm.parent.currentQuestion.tool === \'polygon\'}" ng-click="vm.parent.selectTool(\'polygon\')" tooltips="" tooltip-title="Draw Polygon Drop Target" tooltip-side="right"></i></div><h3>Image &amp; Hotspot <span>Use the drawing tool on the right to define Hotspot</span></h3><div class="placeholder-image" ng-show="!vm.parent.currentQuestion.imgSrc" ng-click="vm.parent.pickImage()"><div class="upload-instructions"><div id="upload-image-icon"></div><span class="dragText">Click to Upload Images</span><div class="details">or drag and drop files from your desktop</div></div></div><div class="img-wrapper" ng-show="vm.parent.currentQuestion.imgSrc && !vm.parent.progressSpinner"><img ng-src="{{vm.parent.currentQuestion.imgSrc}}"><svg id="drop-area" ng-mousedown="vm.parent.onSVGMouseDown($event)" ng-mouseup="vm.parent.onSVGMouseUp($event)" ng-mousemove="vm.parent.onSVGMouseMove($event)" ng-class="{\'crosshair\' : vm.parent.currentQuestion.tool}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg><div id="drop-menu" class="{{vm.parent.config.scoreSettings.highlightColor.class}}"><h2>This area is:</h2><ul><li class="correct" ng-click="vm.parent.setSVGAnswerCircle(\'correct\')"><div class="answer-wrapper"><div>Correct</div></div></li><li class="incorrect" ng-click="vm.parent.setSVGAnswerCircle(\'incorrect\')"><div class="answer-wrapper"><div>Incorrect</div></div></li></ul><ul><li><div ng-click="vm.parent.deleteDropArea()">Delete Hotspot</div></li></ul></div></div></div></div></fieldset></form></div>'),
e.put("app/components/editor-question-multiple-answer/editor-question-multiple-answer.html",'<div ng-init="vm.init()"><form ng-if="vm.view"><header><h2>Multiple Answer</h2><ui-select theme="select2" ng-model="vm.questionTypeSelection" search-enabled="false" on-select="vm.changeQuestionType($item)"><ui-select-match>Change Question Type</ui-select-match><ui-select-choices repeat="type in vm.questionTypeSwitcher"><div class="question-choice"><div class="icon-check" ng-class="{hidden: vm.questionType !== type.label}"></div>{{type.label}}</div></ui-select-choices></ui-select></header><fieldset><div class="add-image" tooltips="" tooltip-title="Add Image" tooltip-side="right" ng-class="{\'disabled\': vm.currentQuestion.imgSrc}" ng-click="vm.pickImage()"></div><div class="question-wrapper"><text-angular-toolbar name="toolbar"></text-angular-toolbar><div class="question"><div ng-if="vm.config.scoreSettings.numberQuestions.value" class="question-num">{{vm.currentQuestionIdx + vm.config.scoreSettings.startNumberingAt.value}}</div><div class="question-content"><text-angular name="htmlcontent1" ng-model="vm.currentQuestion.title" ta-target-toolbars="toolbar" class="ta-large ta-rendered-html" placeholder="Edit question text"></text-angular><hr><div class="question-meta"><label>Hint</label><text-angular name="htmlcontent2" ng-model="vm.currentQuestion.hint" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add hint (optional)"></text-angular></div><div class="question-meta"><label>Explanation</label><text-angular name="htmlcontent3" ng-model="vm.currentQuestion.explanation" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add explanation to be displayed on score results page (optional)"></text-angular></div></div></div><div class="progress-spinner" ng-if="vm.progressSpinner"></div><div class="image" ng-if="vm.currentQuestion.imgSrc && !vm.progressSpinner"><div class="swap-image" tooltips="" tooltip-title="Swap Image" tooltip-side="right" ng-click="vm.pickImage()"></div><i class="delete-image" ng-click="vm.deleteImage()" tooltips="" tooltip-title="Delete Image" tooltip-side="right"></i><div class="img-wrapper"><img ng-src="{{vm.currentQuestion.imgSrc}}"></div></div><ul class="answers" ui-sortable="" ng-model="vm.currentQuestion.answers"><li ng-repeat="answer in vm.currentQuestion.answers track by $index" ng-class="{\'no-label\': vm.config.scoreSettings.answerLabels.id === 4}"><text-angular-toolbar name="{{\'answer-toolbar-\' + $index}}"></text-angular-toolbar><div class="answer-wrapper"><i class="icon-trash" ng-if="vm.currentQuestion.answers.length > 2" ng-click="$parent.$parent.$parent.vm.deleteAnswer(answer)"></i><div class="answer-choice">{{$index | convertAnswerChoice: vm.config}}</div><text-angular name="{{\'answer-htmlcontent-\' + $index}}" ng-model="answer.answer" ta-target-toolbars="{{\'answer-toolbar-\' + $index}}" class="ta-medium ta-rendered-html" placeholder="Edit answer choice text"></text-angular><div class="answer-slider" ng-class="{\'correct-answer\': answer.correct}" ng-click="vm.updateCorrectAnswer(answer)"><i class="icon-check"></i> <span class="text" ng-if="answer.correct">Correct</span> <span class="text" ng-if="!answer.correct">Incorrect</span></div></div></li></ul><a class="add-button" href="" ng-if="vm.currentQuestion.answers.length < 10" ng-click="vm.addAnswerChoice()">Add Answer Choice</a></div></fieldset></form></div>'),e.put("app/components/editor-question-multiple-choice/editor-question-multiple-choice.html",'<div ng-init="vm.init()"><form ng-if="vm.view"><header><h2>Multiple Choice</h2><ui-select theme="select2" ng-model="vm.questionTypeSelection" search-enabled="false" on-select="vm.changeQuestionType($item)"><ui-select-match>Change Question Type</ui-select-match><ui-select-choices repeat="type in vm.questionTypeSwitcher"><div class="question-choice"><div class="icon-check" ng-class="{hidden: vm.questionType !== type.label}"></div>{{type.label}}</div></ui-select-choices></ui-select></header><fieldset><div class="add-image" tooltips="" tooltip-title="Add Image" tooltip-side="right" ng-class="{\'disabled\': vm.currentQuestion.imgSrc}" ng-click="vm.pickImage()"></div><div class="question-wrapper"><text-angular-toolbar name="toolbar"></text-angular-toolbar><div class="question"><div ng-if="vm.config.scoreSettings.numberQuestions.value" class="question-num">{{vm.currentQuestionIdx + vm.config.scoreSettings.startNumberingAt.value}}</div><div class="question-content"><text-angular name="htmlcontent1" ng-model="vm.currentQuestion.title" ta-target-toolbars="toolbar" class="ta-large ta-rendered-html" placeholder="Edit question text"></text-angular><hr><div class="question-meta"><label>Hint</label><text-angular name="htmlcontent2" ng-model="vm.currentQuestion.hint" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add hint (optional)"></text-angular></div><div class="question-meta"><label>Explanation</label><text-angular name="htmlcontent3" ng-model="vm.currentQuestion.explanation" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add explanation to be displayed on score results page (optional)"></text-angular></div></div></div><div class="progress-spinner" ng-if="vm.progressSpinner"></div><div class="image" ng-if="vm.currentQuestion.imgSrc && !vm.progressSpinner"><div class="swap-image" tooltips="" tooltip-title="Swap Image" tooltip-side="right" ng-click="vm.pickImage()"></div><i class="delete-image" ng-click="vm.deleteImage()" tooltips="" tooltip-title="Delete Image" tooltip-side="right"></i><div class="img-wrapper"><img ng-src="{{vm.currentQuestion.imgSrc}}"></div></div><ul class="answers" ui-sortable="" ng-model="vm.currentQuestion.answers"><li ng-repeat="answer in vm.currentQuestion.answers track by $index" ng-class="{\'no-label\': vm.config.scoreSettings.answerLabels.id === 4}"><text-angular-toolbar name="{{\'answer-toolbar-\' + $index}}"></text-angular-toolbar><div class="answer-wrapper"><i class="icon-trash" ng-if="vm.currentQuestion.answers.length > 2" ng-click="vm.deleteAnswer(answer)"></i><div class="answer-choice">{{$index | convertAnswerChoice: vm.config}}</div><text-angular name="{{\'answer-htmlcontent-\' + $index}}" ng-model="answer.answer" ta-target-toolbars="{{\'answer-toolbar-\' + $index}}" class="ta-medium ta-rendered-html" placeholder="Edit answer choice text"></text-angular><div class="answer-toggle" ng-class="{\'correct-answer\': answer.correct}" ng-click="vm.updateCorrectAnswer(answer)"><i class="icon-check"></i> <span class="text">Correct</span></div></div></li></ul><a class="add-button" href="" ng-if="vm.currentQuestion.answers.length < 10" ng-click="vm.addAnswerChoice()">Add Answer Choice</a></div></fieldset></form></div>'),e.put("app/components/editor-question-sequencing/editor-question-sequencing.html",'<div ng-init="vm.init()"><form ng-if="vm.view"><header><h2>Sequencing</h2><ui-select theme="select2" ng-model="vm.questionTypeSelection" search-enabled="false" on-select="vm.changeQuestionType($item)"><ui-select-match>Change Question Type</ui-select-match><ui-select-choices repeat="type in vm.questionTypeSwitcher"><div class="question-choice"><div class="icon-check" ng-class="{hidden: vm.questionType !== type.label}"></div>{{type.label}}</div></ui-select-choices></ui-select></header><fieldset><div class="question-wrapper"><text-angular-toolbar name="toolbar"></text-angular-toolbar><div class="question"><div ng-if="vm.config.scoreSettings.numberQuestions.value" class="question-num">{{vm.currentQuestionIdx + vm.config.scoreSettings.startNumberingAt.value}}</div><div class="question-content"><text-angular name="htmlcontent1" ng-model="vm.currentQuestion.title" ta-target-toolbars="toolbar" class="ta-medium" placeholder="Arrange items in the correct order." ng-keydown="vm.tabOrder($event,\'questionFlag\')"></text-angular><hr><div class="question-meta"><label>Hint</label><text-angular name="htmlcontent2" ng-model="vm.currentQuestion.hint" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add hint (optional)"></text-angular></div></div></div><div class="progress-spinner" ng-if="vm.progressSpinner"></div><div><p class="sequence-subtitle">Arrange options in the correct sequence. Options will be shuffled when viewed by the reader.</p></div><div class="answers" ng-model="vm.currentQuestion.answers"><ul ui-sortable="" class="answers" ng-model="vm.currentQuestion.answers"><li ng-repeat="answer in vm.currentQuestion.answers track by $index" ng-class="{\'no-label\': vm.config.scoreSettings.answerLabels.id === 4}"><text-angular-toolbar name="{{\'answer-toolbar-\' + $index}}" class="ta-classbox"></text-angular-toolbar><div class="lftBorder"></div><div class="answer-wrapper"><i class="icon-trash" ng-if="vm.currentQuestion.answers.length > 2"></i><div class="answer-choice">{{$index | convertAnswerChoice: vm}}.</div><text-angular name="{{\'answer-htmlcontent-\' + $index}}" ng-model="answer.answer" ta-target-toolbars="{{\'answer-toolbar-\' + $index}}" class="ta-medium ta-rendered-html seqoptions" placeholder="Option{{$index | convertAnswerChoice: vm}}" ta-maxlength="140" ng-keydown="vm.tabOrder($event,$index)"></text-angular></div><div class="trash-proxy" ng-click="$parent.$parent.$parent.vm.deleteAnswer(answer)" ng-if="vm.currentQuestion.answers.length > 2"></div></li></ul><ul class="answers"><li class="liAddbtn" id="addOption" tabindex="1" ng-if="vm.currentQuestion.answers.length < 9" ng-keydown="vm.addAnswerChoice($event, \'0\')"><a class="add-button" href="" ng-click="vm.addAnswerChoice($event, \'1\')">Add Answer Choice</a></li></ul></div></div></fieldset></form></div>'),e.put("app/components/editor-question-true-false/editor-question-true-false.html",'<div ng-init="vm.init()"><form ng-if="vm.view"><header><h2>True/False</h2><ui-select theme="select2" ng-model="vm.questionTypeSelection" search-enabled="false" on-select="vm.changeQuestionType($item)"><ui-select-match>Change Question Type</ui-select-match><ui-select-choices repeat="type in vm.questionTypeSwitcher"><div class="question-choice"><div class="icon-check" ng-class="{hidden: vm.questionType !== type.label}"></div>{{type.label}}</div></ui-select-choices></ui-select></header><fieldset><div class="add-image" tooltips="" tooltip-title="Add Image" tooltip-side="right" ng-class="{\'disabled\': vm.currentQuestion.imgSrc}" ng-click="vm.pickImage()"></div><div class="question-wrapper"><text-angular-toolbar name="toolbar"></text-angular-toolbar><div class="question"><div ng-if="vm.config.scoreSettings.numberQuestions.value" class="question-num">{{vm.currentQuestionIdx + vm.config.scoreSettings.startNumberingAt.value}}</div><div class="question-content"><text-angular name="htmlcontent1" ng-model="vm.currentQuestion.title" ta-target-toolbars="toolbar" class="ta-large ta-rendered-html" placeholder="Edit question text"></text-angular><hr><div class="question-meta"><label>Hint</label><text-angular name="htmlcontent2" ng-model="vm.currentQuestion.hint" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add hint (optional)"></text-angular></div><div class="question-meta"><label>Explanation</label><text-angular name="htmlcontent3" ng-model="vm.currentQuestion.explanation" ta-target-toolbars="toolbar" class="ta-small" placeholder="Add explanation to be displayed on score results page (optional)"></text-angular></div></div></div><div class="progress-spinner" ng-if="vm.progressSpinner"></div><div class="image" ng-if="vm.currentQuestion.imgSrc && !vm.progressSpinner"><div class="swap-image" tooltips="" tooltip-title="Swap Image" tooltip-side="right" ng-click="vm.pickImage()"></div><i class="delete-image" ng-click="vm.deleteImage()" tooltips="" tooltip-title="Delete Image" tooltip-side="right"></i><div class="img-wrapper"><img ng-src="{{vm.currentQuestion.imgSrc}}"></div></div><ul class="answers"><li ng-repeat="answer in vm.currentQuestion.answers track by $index" class="no-label"><div class="answer-wrapper no-label"><div class="answer-holder">{{answer.answer}}</div><div class="answer-toggle" ng-class="{\'correct-answer\': answer.correct}" ng-click="vm.updateCorrectAnswer(answer)"><i class="icon-check"></i> <span class="text">Correct</span></div></div></li></ul><div></div></div></fieldset></form></div>'),e.put("app/components/editor-score-settings/course-completion-tooltip.html","You can set course completion assessments. When a user finishes this assessment, Inkling stores the completion status."),e.put("app/components/editor-score-settings/course-id-tooltip.html","You can associate this assessment to a course in your LRS. Enter the course ID value in <strong>Associated Course ID</strong>."),e.put("app/components/editor-score-settings/editor-score-settings.html",'<div class="workspace" ng-init="vm.init()" ng-if="vm.view"><div class="wrapper"><form name="form"><section><h3>Score</h3><div><label>Passing Score</label><ui-select ng-model="vm.config.scoreSettings.passingScore" theme="select2" search-enabled="false"><ui-select-match><strong>{{$select.selected.value / vm.config.questions.length * 100 | number: 2 | number}}%</strong> - {{$select.selected.value}} of {{vm.config.questions.length}} Correct</ui-select-match><ui-select-choices repeat="score in vm.passingScores"><strong>{{score.value / vm.config.questions.length * 100 | number: 2 | number}}%</strong> - {{score.value}} of {{vm.config.questions.length}} Questions</ui-select-choices></ui-select></div><div class="grid"><div class="col"><label>Retry Setting <i tooltips="" tooltip-class="hide-title" tooltip-title="Retry Settings" tooltip-view="app/components/editor-score-settings/retry-settings-tooltip.html" class="info-button"></i></label><ui-select ng-model="vm.config.scoreSettings.retrySetting" theme="select2" search-enabled="false"><ui-select-match>{{$select.selected.value}}</ui-select-match><ui-select-choices repeat="retrySetting in vm.retrySettings">{{retrySetting.value}}</ui-select-choices></ui-select></div><div class="col" ng-class="{disabled: vm.config.scoreSettings.retrySetting.id !== 2}"><label>Max Number of Retries</label><ui-select ng-model="vm.config.scoreSettings.maxNumberOfRetries" theme="select2" search-enabled="false" ng-disabled="vm.config.scoreSettings.retrySetting.id !== 2"><ui-select-match>{{$select.selected.value}}</ui-select-match><ui-select-choices repeat="maxRetry in vm.maxRetries">{{maxRetry.value}}</ui-select-choices></ui-select></div></div><div ng-show="vm.config.scoreSettings.retrySetting.id != 4" style="position: relative;top: -15px;"><p class="label-description">If you set <strong>Retry Setting</strong> to a value other than <i>Test Yourself</i>, Inkling permanently blocks a user from retaking an assessment once its retry limit is met. See the documentation on how to reset the assessment and remove this block.</p></div></section><section><h3>Settings</h3><div><label>Assessment Title <i tooltips="" tooltip-title="Enter a title that identifies this particular assessment in Inkling reporting." class="info-button"></i> <span class="input-optional"></span></label> <input ng-model="vm.config.scoreSettings.assessmentTitle" type="text" placeholder="Enter Assessment Title" maxlength="500"></div><div><label>Assessment ID <i tooltips="" tooltip-title="Enter a unique ID that identifies this particular assessment in Inkling reporting. If you\'re using an LRS, enter the unique ID provided by the LRS." class="info-button"></i> <span class="input-optional"></span></label> <input ng-model="vm.config.scoreSettings.assessmentID" type="text" placeholder="Enter Assessment ID" maxlength="500"></div><div><label>Answer Labels</label><ui-select ng-model="vm.config.scoreSettings.answerLabels" theme="select2" search-enabled="false" on-select="vm.updateSVGLabels()"><ui-select-match><span class="label">{{$select.selected.label}}</span> <strong><span class="choice">{{$select.selected.value}}</span> Choice</strong></ui-select-match><ui-select-choices repeat="answerLabel in vm.answerLabels"><span class="label">{{answerLabel.label}}</span> <strong><span class="choice">{{answerLabel.value}}</span> Choice</strong></ui-select-choices></ui-select></div><div class="grid"><div class="col"><label>Number Questions</label><ui-select ng-model="vm.config.scoreSettings.numberQuestions" theme="select2" search-enabled="false"><ui-select-match>{{$select.selected.label}}</ui-select-match><ui-select-choices repeat="numberQuestion in vm.numberQuestions">{{numberQuestion.label}}</ui-select-choices></ui-select></div><div class="col" ng-class="{disabled: vm.config.scoreSettings.numberQuestions.value === false}"><label>Start Numbering At</label><ui-select ng-model="vm.config.scoreSettings.startNumberingAt" theme="select2" search-enabled="false" ng-disabled="vm.config.scoreSettings.numberQuestions.value === false"><ui-select-match>{{$select.selected.value}}</ui-select-match><ui-select-choices repeat="num in vm.startNumberingAt">{{num.value}}</ui-select-choices></ui-select></div></div><div><label>Highlight Color <i tooltips="" tooltip-title="Sets the displayed label color for Drag &amp; Drop and Hotspot questions." class="info-button"></i></label><ui-select ng-model="vm.config.scoreSettings.highlightColor" theme="select2" search-enabled="false" on-select="vm.updateSVGColors()"><ui-select-match><span class="color-block" style="background: {{$select.selected.value}}"></span> {{$select.selected.label}}</ui-select-match><ui-select-choices repeat="highlightColor in vm.highlightColors"><span class="color-block" style="background: {{highlightColor.value}}"></span> {{highlightColor.label}}</ui-select-choices></ui-select></div><div style="margin-bottom: 10px"><span class="label-description">Send a course completion message when assessment is completed</span> <label class="toggle-switch" ng-class="{\'toggle-switch--toggle-on\': vm.config.scoreSettings.sendCourseCompletion}" style="margin: 0 5px 0 10px"><input type="checkbox" ng-model="vm.config.scoreSettings.sendCourseCompletion"> <span class="toggle-switch__toggle-knob"></span></label> <i tooltips="" tooltip-class="hide-title" tooltip-title="Toggle Course Completion" tooltip-view="app/components/editor-score-settings/course-completion-tooltip.html" class="info-button"></i></div></section></form></div></div>'),e.put("app/components/editor-score-settings/retry-settings-tooltip.html","<ul><li><strong>No Retries:</strong> User gets one attempt.</li><li><strong>Limited Retries:</strong> User gets the number of attempts specified in <strong>Max Number of Retries</strong>.</li><li><strong>Retry Until Pass:</strong> User gets unlimited attempts until achieving a passing score.</li><li><strong>Test Yourself:</strong> User gets unlimited attempts.</li></ul>"),e.put("app/components/viewer-entry-screen/viewer-entry-screen.html",'<div resize-on-window="" ng-init="vm.init()" class="wrapper"><div class="wrapper-inner"><h1>{{vm.config.entryScreen.title}}</h1><p>{{vm.config.entryScreen.description}}</p><a ui-sref="quiz" class="button-entry">{{vm.config.viewerPages.entryScreen.button}}</a><div class="summary">{{vm.config.questions.length}} {{vm.config.viewerPages.entryScreen.summary}}</div></div></div>'),e.put("app/components/viewer-limited-retries/viewer-limited-retries.html",'<div resize-on-window="" ng-init="vm.init()"><h1>{{vm.config.viewerPages.limitedRetries.correctAnswers | stringFormat:[vm.score, vm.config.questions.length]}}</h1><p ng-if="vm.passed" class="pass-summary">{{vm.config.viewerPages.limitedRetries.successPassSummary | stringFormat: [vm.config.scoreSettings.passingScore.value]}}</p><p ng-if="!vm.passed" class="pass-summary">{{vm.config.viewerPages.limitedRetries.failPassSummary | stringFormat: [vm.config.scoreSettings.passingScore.value]}}</p><p class="show-for-med" ng-hide="vm.config.scoreSettings.retrySetting.value === \'Retry Until Pass\'"><span>{{vm.config.viewerPages.limitedRetries.attemptsRemaining | stringFormat: [vm.attemptsRemaining]}}</span>&nbsp;<span>{{vm.config.viewerPages.limitedRetries.extraMessage}}</span></p><p class="show-for-small" ng-hide="vm.config.scoreSettings.retrySetting.value === \'Retry Until Pass\'"><span>{{vm.config.viewerPages.limitedRetries.attemptsRemaining | stringFormat: [vm.attemptsRemaining]}}</span><br><span>{{vm.config.viewerPages.limitedRetries.extraMessage}}</span></p><div><div class="hide-for-small button-wrapper right" ng-class="{\'full-width\': vm.config.scoreSettings.retrySetting.value === \'Retry Until Pass\'}"><button ng-click="vm.takeAgain()" ng-disabled="!vm.isOnline" class="button-take-again no-fill">{{vm.config.viewerPages.limitedRetries.buttonSecondary}}</button><div ng-show="!vm.isOnline" class="offline-text">Go online to take again.</div></div><div class="button-wrapper left"><button ng-disabled="!vm.isOnline" ng-hide="vm.config.scoreSettings.retrySetting.value === \'Retry Until Pass\'" ui-sref="score-results" class="button-submit">{{vm.config.viewerPages.limitedRetries.buttonPrimary}}</button><div ng-show="!vm.isOnline" class="offline-text">Go online to submit score.</div><div class="show-for-small button-wrapper right" ng-class="{\'full-width\': vm.config.scoreSettings.retrySetting.value === \'Retry Until Pass\'}"><button ng-click="vm.takeAgain()" ng-disabled="!vm.isOnline" class="button-take-again no-fill">{{vm.config.viewerPages.limitedRetries.buttonSecondary}}</button><div ng-show="!vm.isOnline" class="offline-text">Go online to take again.</div></div></div></div></div>'),e.put("app/components/viewer-quiz/viewer-quiz.html",'<div ng-init="vm.init()" class="wrapper"><div class="header"><table class="top-bar"><tr><td class="left" ng-class="{offline: !vm.isOnline}"><div class="questions-overview-dropdown" ng-click="vm.questionsOverviewToggled = !vm.questionsOverviewToggled"><span>{{vm.config.viewerPages.quiz.questionsAnswered | stringFormat:[vm.numQuestionsAnswered, vm.config.questions.length]}}</span><div class="icon-triangle" ng-class="{up: vm.questionsOverviewToggled}"></div></div></td><td class="right"><button ng-click="vm.submit()" ng-disabled="vm.preventSubmit" class="submit-button" ng-class="{disabled: vm.preventSubmit}">{{vm.config.viewerPages.quiz.button}}</button><div ng-show="vm.numQuestionsAnswered >= vm.config.questions.length && !vm.isOnline" class="offline-text">Go online to submit.</div></td></tr></table></div><div class="slick-wrapper"><div ng-show="vm.config.questions.length > 0 && vm.currentQuestionIdx > 0" remove-hover="" class="icon-prev-arrow"></div><div ng-show="vm.config.questions.length > 0 && vm.currentQuestionIdx < vm.config.questions.length - 1" remove-hover="" class="icon-next-arrow"></div><div ng-show="vm.questionsOverviewToggled" class="questions-overview-triangle top"></div><div ng-show="vm.questionsOverviewToggled" class="questions-overview-triangle"></div><div ng-show="vm.questionsOverviewToggled" class="questions-overview"><h1>{{vm.config.viewerPages.quiz.overview}}</h1><div><ol ng-class="{\'no-num\': !vm.config.scoreSettings.numberQuestions.value}" start="{{vm.config.scoreSettings.startNumberingAt.value}}"><li slick-go-to="" slick-id="question-slider" slick-index="{{$index}}" ng-click="vm.setCurrentQuestionIdx($index)" ng-repeat="question in vm.config.questions" ng-class="{ filled: vm.questionsAnswered[question.id].toggled }"><span ng-if="question.type !== \'fill-in-the-blank\'" class="rendered-html {{question.type}}" ng-bind-html="question.title"></span> <span ng-if="question.type === \'fill-in-the-blank\'" class="rendered-html {{question.type}}" ng-bind-html="question.startTitle + \'&nbsp;______&nbsp;\' + question.endTitle"></span></li></ol></div></div><slick id="question-slider" infinite="false" swipe="false" draggable="false" arrows="true" next-arrow=".icon-next-arrow" prev-arrow=".icon-prev-arrow" slick-resize-on-before-change="" slick-on-after-change="" slick-resize-on-window="" resize-offset="135"><div class="question-wrapper {{question.type}}" ng-repeat="question in vm.config.questions track by $index" ng-class="{\'showHint\': showHint}" data-question-id="{{question.id}}"><div class="question-prompt"><span class="number" ng-show="vm.config.scoreSettings.numberQuestions.value">{{vm.config.viewerPages.quiz.questionNumbering | stringFormat:[$index + vm.config.scoreSettings.startNumberingAt.value]}}</span><h1 ng-if="question.type !== \'fill-in-the-blank\'" class="title rendered-html" ng-bind-html="question.title"></h1><div class="img-wrapper"><div class="scaler"><div class="image full-bleed" ng-show="question.imgSrc" add-image="" img-url="{{question.imgSrc}}"></div><svg ng-if="question.type === \'drag-and-drop\' || question.type === \'image-hotspot\'" class="question" ng-show="question.SVGData" preserveaspectratio="xMidYMid meet" data-question-index="{{$index}}"></svg><svg ng-if="question.type === \'drag-and-drop\' || question.type === \'image-hotspot\'" class="answer" data-question-index="{{$index}}"></svg></div><div ng-if="question.type === \'drag-and-drop\'" class="sortable {{question.type}}" ui-sortable="vm.droppableOptions" ng-model="vm.droppables"></div><div ng-if="question.type === \'image-hotspot\'" class="sortable {{question.type}}" ui-sortable="vm.imageHotspotOptions" ng-model="vm.droppables" ng-click="vm.addDroppable($event)"></div></div><span class="instruction" ng-show="question.type === \'multiple-choice\' || question.type === \'true-false\'">{{vm.config.viewerPages.quiz.oneAnswerInstruction}}</span> <span class="instruction" ng-show="question.type === \'multiple-answer\'">{{vm.config.viewerPages.quiz.multipleAnswerInstruction}}</span> <span class="instruction" ng-show="question.type === \'sequencing\'">{{vm.config.viewerPages.quiz.sequencingInstruction}}</span> <span class="instruction" ng-show="question.type === \'fill-in-the-blank\'">{{vm.config.viewerPages.quiz.fillInTheBlankInstruction}}</span></div><fieldset ng-if="question.type === \'multiple-choice\' || question.type === \'true-false\'"><div class="answer-wrapper" ng-repeat="answer in question.answers"><input disabled="" answer-selected="" id="{{question.id + \'-\' + answer.id}}" name="{{question.id}}" type="radio" value="{{answer.id}}"> <label class="rendered-html" ng-bind-html="answer.answer || \'&nbsp;\'" ng-click="vm.updateQuestionsAnswered(question.type, question.id, answer.id)" for="{{question.id + \'-\' + answer.id}}" check-answer-input=""></label> <label ng-if="vm.config.scoreSettings.answerLabels.value" class="answer-number" ng-click="vm.updateQuestionsAnswered(question.type, question.id, answer.id)" for="{{question.id + \'-\' + answer.id}}" check-answer-input="">{{$index | convertAnswerChoice: vm.config}}</label></div></fieldset><fieldset ng-if="question.type === \'multiple-answer\'"><div class="answer-wrapper" ng-repeat="answer in question.answers"><input disabled="" answer-selected="" id="{{question.id + \'-\' + answer.id}}" type="checkbox" value="{{answer.id}}"> <label class="rendered-html" ng-click="vm.updateQuestionsAnswered(question.type, question.id, answer.id)" for="{{question.id + \'-\' + answer.id}}" ng-bind-html="answer.answer || \'&nbsp;\'" check-answer-input=""></label> <label ng-if="vm.config.scoreSettings.answerLabels.value" class="answer-number" ng-click="vm.updateQuestionsAnswered(question.type, question.id, answer.id)" for="{{question.id + \'-\' + answer.id}}" check-answer-input="">{{$index | convertAnswerChoice: vm.config}}</label></div></fieldset><fieldset ng-if="question.type === \'drag-and-drop\'"><p ng-if="vm.droppables.length === 0">{{vm.config.viewerPages.quiz.dragDropInstructionText}}</p><p class="reset-labels" ng-if="vm.droppables.length > 0"><a href="#" ng-click="vm.resetLabels($event)">Reset Labels</a></p><ul ui-sortable="vm.sortableOptions" ng-model="question.answers"><li class="answer-wrapper {{vm.config.scoreSettings.highlightColor.class}} {{question.type}}" ng-repeat="answer in question.answers track by $index" data-id="{{answer.id}}" data-question-id="{{question.id}}" data-index="{{$index}}"><label class="rendered-html" ng-bind-html="answer.answer || \'&nbsp;\'" check-answer-input=""></label> <label ng-if="vm.config.scoreSettings.answerLabels.value" class="answer-number" check-answer-input="">{{$index | convertAnswerChoice: vm.config}}</label></li></ul></fieldset><fieldset ng-if="question.type === \'sequencing\'"><div class="sequencing-wrapper"><div ng-init="vm.shuffle(question.answers, question.id); vm.sortable();"><ul class="answer-wrapper seq-sortable" id="{{question.id}}"><li class="seqSortli" id="{{question.id + \'*\' + answer.id + \'_\' + answer.answer}}" ng-bind-html="answer.answer == \'\' ? \'<p>&nbsp;&nbsp;</p>\' : answer.answer || \'&nbsp;\'" ng-repeat="answer in vm.shuffledQuestions[question.id]"></li></ul></div></div></fieldset><fieldset ng-if="question.type === \'fill-in-the-blank\'" class="fill-in"><div class="shadow-answer"></div><span class="rendered-html fill-questionstart" ng-bind-html="question.startTitle"></span> <span ng-if="!vm.questionsAnswered[question.id].toggled" class="fill-question-answer"><input class="answer-field" id="fillup-{{question.id}}" maxlength="80" type="text" size="1" ng-model="vm.fillUpAnswers[question.id]" ng-keydown="vm.processFillInFieldKeys($event)" ng-blur="vm.updateQuestionsAnswered(question.type, question.id, 1)" ng-change="vm.onAnswerFieldChange(\'fillup-\'+question.id)" value="" placeholder="{{vm.placeholder}}"></span> <span ng-if="vm.questionsAnswered[question.id].toggled" ng-repeat="value in vm.currentAssessment.questions track by $index"><span ng-if="value.id == question.id"><input class="answer-field" type="text" id="fillup-{{question.id}}" maxlength="80" ng-init="vm.initAnswerField(\'fillup-\'+question.id)" ng-model="vm.fillUpAnswers[question.id]" ng-keydown="vm.processFillInFieldKeys($event)" ng-blur="vm.updateQuestionsAnswered(question.type, question.id, 1)" ng-change="vm.onAnswerFieldChange(\'fillup-\'+question.id)" value="{{value.answers[0]}}" placeholder="{{vm.placeholder}}"></span></span> <span class="rendered-html fill-questionend" ng-bind-html="question.endTitle"></span></fieldset><hr ng-show="question.hint" class="dotted"><div ng-show="question.hint"><div ng-click="showHint = !showHint" class="hint"><span ng-if="!showHint" class="stuck">{{vm.config.viewerPages.quiz.hintText}}&nbsp;</span><a href="javascript:;" class="link-button"><span ng-if="!showHint">{{vm.config.viewerPages.quiz.hintLinkText}}</span><span ng-if="showHint">{{vm.config.viewerPages.quiz.hintHideText}}</span></a></div><div ng-if="question.type !== \'drag-and-drop\' && question.type !== \'image-hotspot\'" class="hint-text" slick-resize-on-toggle="" slick-id="#question-slider" resize-offset="135" ng-model="showHint"><div class="rendered-html" ng-bind-html="question.hint"></div></div><hr class="dotted hint"></div></div></slick><slick-initial slick-id="question-slider" initial-index="{{vm.currentQuestionIdx}}"></slick-initial></div></div>'),e.put("app/components/viewer-score-results/viewer-score-results.html",'<div ng-init="vm.init()" class="wrapper"><div class="header"><h1 ng-if="vm.config.scoreSettings.retrySetting.id !== 4">{{vm.config.viewerPages.scoreResults.scoreSubmission}}</h1><p>{{vm.config.viewerPages.scoreResults.scoreSummary | stringFormat: [vm.numCorrect, vm.config.questions.length]}}<span ng-if="vm.passed">{{vm.config.viewerPages.scoreResults.successMessage}}</span></p><p>{{vm.config.viewerPages.scoreResults.passSummary | stringFormat: [vm.config.scoreSettings.passingScore.value]}}</p></div><ol><li class="question {{question.type}}" ng-class="{\'no-label\': !vm.config.scoreSettings.numberQuestions.value}" ng-repeat="question in vm.config.questions" data-id="{{question.id}}"><div ng-if="vm.config.scoreSettings.numberQuestions.value" class="num">{{$index + vm.config.scoreSettings.startNumberingAt.value}}.</div><div class="rendered-html question-title" ng-bind-html="question.title"></div><div ng-show="vm.questionsAnswered[question.id].correct" class="icon-correct"></div><div ng-show="!vm.questionsAnswered[question.id].correct" class="icon-incorrect"></div><div class="svg-images" ng-if="question.type === \'drag-and-drop\' || question.type === \'image-hotspot\'"><div class="img correct"><h2>Correct Answer</h2><div class="img-wrapper {{vm.config.scoreSettings.highlightColor.class}}"><div ng-show="question.imgSrc" add-image="" img-url="{{question.imgSrc}}"></div><svg></svg></div></div><div class="img user-answer"><h2>Your Answer</h2><div class="img-wrapper"><div ng-show="question.imgSrc" add-image="" img-url="{{question.imgSrc}}"></div><svg></svg></div></div></div><ol class="answers" ng-if="question.type !== \'image-hotspot\'"><li class="answer" ng-if="question.type === \'fill-in-the-blank\'"><span class="rendered-html fill-questionstart" ng-bind-html="question.startTitle || \'&nbsp;\'"></span> <span class="rendered-html fill-answer" ng-bind-html="question.answer || \'&nbsp;\'"></span> <span class="rendered-html fill-questionend" ng-bind-html="question.endTitle || \'&nbsp;\'"></span></li><li class="answer" ng-class="{selected: vm.questionsAnswered[question.id].answersSelected[answer.id].selected, correct: answer.correct && question.type !== \'drag-and-drop\' && question.type !== \'image-hotspot\'}" ng-repeat="answer in question.answers"><div ng-if="question.type !== \'sequencing\' && question.type !== \'fill-in-the-blank\'" ng-show="vm.questionsAnswered[question.id].answersSelected[answer.id].selected" class="icon-choice">YOUR<br>CHOICE</div><div class="answer-number" ng-if="question.type === \'sequencing\'">{{($index | convertAnswerChoice: vm) + "."}}</div><div class="answer-number" ng-if="question.type !== \'sequencing\' && question.type !== \'fill-in-the-blank\'">{{($index | convertAnswerChoice: vm.config) + "."}}</div><div class="rendered-html" ng-bind-html="answer.answer || \'&nbsp;\'"></div></li></ol><p class="caption-labeltext" ng-if="question.type === \'sequencing\' || question.type === \'fill-in-the-blank\'">YOUR ANSWER</p><ol class="answers answer-choice" ng-if="question.type !== \'sequencing\'"><div ng-repeat="value in vm.latestSubmittedAssessment.questions" ng-if="question.type === \'fill-in-the-blank\' && value.answers && value.id == question.id"><span class="rendered-html fill-questionstart" ng-bind-html="question.startTitle || \'&nbsp;\'"></span> <span class="rendered-html fill-answer" ng-bind-html="value.answers || \'&nbsp;\'" ng-style="!vm.questionsAnswered[question.id].correct && {\'color\':\'red\'}"></span> <span class="rendered-html fill-questionend" ng-bind-html="question.endTitle || \'&nbsp;\'"></span></div></ol><div ng-repeat="value in vm.latestSubmittedAssessment.questions" ng-if="question.type === \'sequencing\' && value.answers && value.id == question.id"><ol class="answers"><li class="answer" ng-repeat="answer in value.answers"><div class="answer-number">{{($index | convertAnswerChoice: vm) + "."}}</div><div class="rendered-html" ng-bind-html="answer || \'&nbsp;\'"></div></li></ol></div><hr class="dotted"><div ng-show="question.explanation" class="explanation-wrapper"><div ng-click="showExplanation = !showExplanation" ng-class="{active : showExplanation}" class="explanation"><a href="javascript:;"><span ng-hide="showExplanation">Show Explanation</span><span ng-show="showExplanation">Hide Explanation</span></a></div><div explanation-resize-on-toggle="" ng-model="showExplanation" class="explanation-text"><div class="rendered-html" ng-bind-html="question.explanation"></div></div><hr class="dotted explanation"></div></li></ol></div>');

}]);